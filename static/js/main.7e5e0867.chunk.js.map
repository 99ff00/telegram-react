{"version":3,"sources":["Utils/InputTypingManager.js","Stores/ChatStore.js","Components/Theme.js","Language.js","Theme.js","Controllers/TdLibController.js","Utils/ActionScheduler.js","Stores/ApplicationStore.js","Constants.js","Utils/Common.js","Utils/Country.js","Components/Auth/SignInControl.js","Components/Auth/ConfirmCodeControl.js","Components/Auth/PasswordControl.js","Components/Auth/AuthErrorDialog.js","Components/Auth/AuthFormControl.js","Components/Additional/AppInactiveControl.js","Components/InactivePage.js","Components/StubPage.js","TelegramApp.js","index.js","Stores/OptionStore.js","registerServiceWorker.js","Stores/UserStore.js","Utils/HOC.js","Stores/LocalizationStore.js","Components/Footer.js"],"names":["InputTypingManager","chatId","timeoutCallback","Object","classCallCheck","this","actions","Map","timerId","handleTimer","bind","addAction","clearAction","setActionsTimeout","now","Date","expiredActions","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","_ref3","value","_ref2","slicedToArray","key","expire","push","err","return","_arr","_i","length","delete","update","@type","chat_id","action","userId","setSeconds","getSeconds","TYPING_INPUT_INTERVAL_S","set","clearTimeout","timeout","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_ref6","_ref5","actionTimeout","setTimeout","store","ChatStore","_this","possibleConstructorReturn","getPrototypeOf","call","onUpdate","state","updating","skippedUpdates","TdLibController","parameters","fastUpdating","emitUpdate","updates","emitFastUpdate","setOnlineMemberCount","online_member_count","chat","get","assign","order","draft_message","is_marked_as_unread","is_pinned","is_sponsored","last_message","notification_settings","photo","type","user","UserStore","user_id","profile_photo","pinned_message_id","last_read_inbox_message_id","unread_count","last_read_outbox_message_id","reply_markup_message_id","title","unread_mention_count","typingManager","getTypingManager","setTypingManager","onClientUpdate","emit","addTdLibListener","addListener","removeTdLibListener","removeListener","items","typingManagers","onlineMemberCount","setMaxListeners","Infinity","source1","source2","id","EventEmitter","window","__webpack_require__","d","__webpack_exports__","borderStyle","accentStyles","theme","borderColor","palette","divider","accentColorLight","color","primary","light","accentColorDark","dark","accentColorMain","main","accentBackgroundLight","background","accentBackgroundDark","withLanguage","WrappedComponent","LanguageWrapper","_React$Component","_Users_alex_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_Users_alex_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_alex_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","apply","arguments","_Users_alex_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_Users_alex_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","i18n","LocalizationStore","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","react_i18next__WEBPACK_IMPORTED_MODULE_6__","props","React","Component","displayName","concat","getDisplayName","withTheme","ThemeWrapper","onClientUpdateThemeChanging","createMuiTheme","secondary","typography","useNextVariants","Cookies","setState","ApplicationStore","_ref","blue","document","body","className","replace","trim","on","_material_ui_styles_StylesProvider__WEBPACK_IMPORTED_MODULE_9___default","injectFirst","_material_ui_core_styles_MuiThemeProvider__WEBPACK_IMPORTED_MODULE_8___default","controller","_Users_alex_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","_Users_alex_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_Users_alex_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","init","location","setParameters","_this$parameters","verbosity","jsVerbosity","useTestDC","readOnly","useDatabase","options","logVerbosityLevel","jsLogVerbosityLevel","mode","prefix","isBackground","console","log","JSON","stringify","client","TdClient","disableLog","file","clientUpdate","search","params","URLSearchParams","toLowerCase","has","stringToBoolean","parseInt","VERBOSITY_MIN","VERBOSITY_MAX","VERBOSITY_JS_MIN","VERBOSITY_JS_MAX","tag","split","tagVerbosity","send","request","then","result","sendTdParameters","_Users_alex_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_alex_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee","apiHash","version","i","wrap","_context","prev","process","packageJson","use_test_dc","api_id","api_hash","system_language_code","navigator","language","device_model","getBrowser","system_version","getOSName","application_version","use_secret_chats","use_message_database","use_file_database","database_directory","files_directory","new_verbosity_level","stop","setChatId","messageId","_this2","catch","error","content","ActionScheduler","actionCallback","cancelCallback","add","cancel","setMilliseconds","getMilliseconds","invoke","asyncToGenerator","regenerator_default","item","abrupt","_x","remove","_ref4","expired","_ref7","addScheduledAction","actionScheduler","invokeScheduledAction","removeScheduledAction","handleScheduledAction","handleCancelScheduledAction","authorizationState","authorization_state","loggingOut","connectionState","setNotificationSettings","scope","text","confirm","logOut","alert","extendedUpdate","nextChatId","nextMessageId","previousChatId","previousMessageId","dialogChatId","name","focused","inProgress","onUpdateStatistics","statistics","count","addStatistics","getDragging","dragging","setDragging","scopeNotificationSettings","isChatDetailsVisible","mediaViewerContent","profileMediaViewerContent","visibility","notificationSettings","application","ANIMATION_DURATION_200MS","ANIMATION_DURATION_300MS","ANIMATION_DURATION_500MS","EMOJI_PICKER_TIMEOUT_MS","CHAT_SLICE_LIMIT","LOCATION_HEIGHT","LOCATION_SCALE","LOCATION_WIDTH","LOCATION_ZOOM","MEDIA_SLICE_LIMIT","MESSAGE_SLICE_LIMIT","SHOW_GO_DOWN_BUTTON_DELTA","MUTED_VALUE_MAX","MUTED_VALUE_MIN","NOTIFICATIONS_DEBOUNCE_DELAY_MS","PHOTO_BIG_SIZE","PHOTO_DISPLAY_SIZE","PHOTO_DISPLAY_SMALL_SIZE","PHOTO_SIZE","PHOTO_THUMBNAIL_SIZE","POLL_QUESTION_LENGTH","POLL_QUESTION_HINT_LENGTH","POLL_QUESTION_MAX_LENGTH","POLL_OPTION_LENGTH","POLL_OPTION_HINT_LENGTH","POLL_OPTION_MAX_LENGTH","POLL_OPTIONS_MAX_COUNT","SERVICE_NOTIFICATIONS_USER_ID","STICKER_DISPLAY_SIZE","STICKER_HINT_DISPLAY_SIZE","STICKER_PREVIEW_DISPLAY_SIZE","STICKER_SMALL_DISPLAY_SIZE","PROFILE_PHOTO_BIG_SIZE","PROFILE_PHOTO_SMALL_SIZE","TYPING_OUTPUT_INTERVAL_S","USERNAME_LENGTH_MIN","MAX_SNACK","NOTIFICATION_AUTO_HIDE_DURATION_MS","THUMBNAIL_BLURRED_SIZE","PRELOAD_AUDIO_SIZE","PRELOAD_ANIMATION_SIZE","PRELOAD_DOCUMENT_SIZE","PRELOAD_STICKER_SIZE","PRELOAD_VOICENOTE_SIZE","PRELOAD_VIDEO_SIZE","PRELOAD_VIDEONOTE_SIZE","THUMBNAIL_PRIORITY","FILE_PRIORITY","OPTIMIZATIONS_FIRST_START","PLAYER_VOLUME_NORMAL","PLAYER_STARTTIME","PLAYER_PLAYBACKRATE_NORMAL","PLAYER_PLAYBACKRATE_FAST","PLAYER_PROGRESS_TIMEOUT_MS","orderCompare","getSize","getPhotoThumbnailSize","getPhotoSize","getFitSize","itemsInView","throttle","debounce","getLetters","readImageSize","formatPhoneNumber","formatPhoneNumberSimple","arrayBufferToBase64","isAuthorizationReady","between","getDurationString","getRandomInt","equal","libphonenumber_js__WEBPACK_IMPORTED_MODULE_0__","_Constants__WEBPACK_IMPORTED_MODULE_1__","OSName","userAgent","indexOf","isEdge","documentMode","StyleMedia","string","Boolean","order1","order2","diff","a1","a2","Array","l1","sizes","dimension","useWidth","width","height","Math","abs","index","local","is_downloading_completed","currDiff","size","max","increaseToMax","floor","scrollContainerRef","itemsContainerRef","scrollContainer","current","itemsContainer","children","child","offsetTop","offsetHeight","scrollTop","func","wait","context","args","previous","later","leading","remaining","trailing","immediate","callNow","getFirstLetter","str","toUpperCase","callback","reader","FileReader","addEventListener","image","Image","photoWidth","photoHeight","src","readAsDataURL","number","unformattedNumber","startsWith","formatNumber","code","countryCode","formatIncompletePhoneNumber","substr","buffer","binary","bytes","Uint8Array","len","byteLength","String","fromCharCode","btoa","first","last","secondsTotal","hours","minutes","seconds","min","ceil","random","COUNTRY_NAMES_EN","AF","AL","DZ","AS","AD","AO","AI","AQ","AG","AR","AM","AW","AU","AT","AZ","BS","BH","BD","BB","BY","BE","BZ","BJ","BM","BT","BO","BA","BW","BR","IO","VG","BN","BG","BF","BI","KH","CM","CA","CV","KY","CF","TD","CL","CN","CX","CC","CO","KM","CK","CR","HR","CU","CW","CY","CZ","CD","DK","DJ","DM","DO","TL","EC","EG","SV","GQ","ER","EE","ET","FK","FO","FJ","FI","FR","PF","GA","GM","GE","DE","GH","GI","GR","GL","GD","GU","GT","GG","GN","GW","GY","HT","HN","HK","HU","IS","IN","ID","IR","IQ","IE","IM","IL","IT","CI","JM","JP","JE","JO","KZ","KE","KI","XK","KW","KG","LA","LV","LB","LS","LR","LY","LI","LT","LU","MO","MK","MG","MW","MY","MV","ML","MT","MH","MR","MU","YT","MX","FM","MD","MC","MN","ME","MS","MA","MZ","MM","NA","NR","NP","NL","AN","NC","NZ","NI","NE","NG","NU","KP","MP","NO","OM","PK","PW","PS","PA","PG","PY","PE","PH","PN","PL","PT","PR","QA","CG","RE","RO","RU","RW","BL","SH","KN","LC","MF","PM","VC","WS","SM","ST","SA","SN","RS","SC","SL","SG","SX","SK","SI","SB","SO","ZA","KR","SS","ES","LK","SD","SR","SJ","SZ","SE","CH","SY","TW","TJ","TZ","TH","TG","TK","TO","TT","TN","TR","TM","TC","TV","VI","UG","UA","AE","GB","US","UY","UZ","VU","VA","VE","VN","WF","EH","YE","ZM","ZW","PHONE_CODES","COUNTRY_DATA","en","buildCountryList","ru","names","keys","map","codeLC","phone_code","sort","b","localeCompare","getCountryPhoneData","phoneCode","phoneCodeLib","getPhoneCode","_unused","getPhoneCodeFromLib","phoneNumber","lookupCountryByPhone","countries","filter","c","_code","DEFAULT_COUNTRY_CODE","_lang$split","_lang$split2","langCode","getDefaultCountryCode","PHONE_CODE_INPUT_PROPS","maxLength","SignInControl","onUpdateOption","onSuggestedLanguagePackId","languagePackId","OptionStore","loadLanguage","suggestedLanguage","onKeyPress","event","preventDefault","onDone","onPhoneEnter","_this$state","fullPhoneNumber","phoneData","parsePhoneNumberFromString","isValid","loading","phone_number","errorString","message","finally","onChangeLanguage","focusPhoneNumber","el","phoneFieldRef","l","focus","setSelectionRange","onCountryChange","target","_getCountryPhoneData","onCodeChange","currentPhoneData","onPhoneNumberChange","renderCountries","lang","_this$props","t","react_default","MenuItem_default","disabled","toConsumableArray","getCountryList","country","createRef","parts","phone","shift","join","objectSpread","_this$props2","classes","_this$state2","phoneNumberStr","FormControl_default","fullWidth","Select_default","input","OutlinedInput_default","labelWidth","onChange","TextField_default","fldPhoneCode","label","margin","inputProps","inputRef","fldPhoneNumber","autoFocus","FormHelperText_default","Button_default","button","onClick","Typography_default","continueAtLanguage","Link_default","lng","enhance","compose","withTranslation","withStyles","transform","textAlign","position","left","right","bottom","fontWeight","ConfirmCodeControl","handleChange","assertThisInitialized","handleNext","handleBack","handleDone","handleKeyPress","first_name","last_name","onBack","isBad","match","e","codeLength","codeInfo","getPhoneNumber","getCodeLength","subtitle","getSubtitle","FormHelperText_FormHelperText_default","buttonLeft","buttonRight","marginRight","marginTop","marginLeft","PasswordControl","handleMouseDownPassword","handleClickShowPassword","showPassword","password","onChangePhone","passwordHint","classNames","textField","InputLabel_default","htmlFor","Input_default","endAdornment","InputAdornment_default","IconButton_default","aria-label","onMouseDown","VisibilityOff_default","Visibility_default","root","display","flexWrap","withoutLabel","spacing","unit","flexBasis","AuthErrorDialog","open","handleAuthError","handleClose","handleKeyDown","Dialog_default","transitionDuration","onKeyDown","onClose","aria-labelledby","DialogTitle_default","DialogContent_default","DialogContentText_default","DialogActions_default","AuthFormControl","handlePhoneEnter","control","Components_Auth_SignInControl","Components_Auth_ConfirmCodeControl","termsOfService","terms_of_service","code_info","Components_Auth_PasswordControl","password_hint","hasRecoveryEmailAddress","has_recovery_email_address","recoveryEmailAddressPattern","recovery_email_address_pattern","authorizationFormContent","Auth_AuthErrorDialog","default","AppInactiveControl","handleReload","Button_Button_default","reload","InactivePage","Fragment","page","Components_Additional_AppInactiveControl","Footer","StubPage","page-third-column","dialogs-third-column","menuIconButton","Menu_default","headerIconButton","Search_default","dialog-details-third-column","grey","flex","MainPage","lazy","Promise","all","TelegramApp","checkServiceWorker","cookieEnabled","registerServiceWorker","onUpdateFatalError","fatalError","onUpdateAuthorizationState","hasFocus","onClientUpdateAppInactive","inactive","handleChangePhone","handleDragOver","stopPropagation","handleDrop","handleRefresh","handleDestroy","Components_StubPage","Components_InactivePage","Suspense","fallback","Components_Auth_AuthFormControl","onDragOver","onDrop","aria-describedby","keyMap","openPinnedChat","_callee2","chats","pinnedIndex","_context2","offset_order","offset_chat_id","limit","sent","chat_ids","altKey","ctrlKey","t0","getMyId","force","_x2","onblur","clear","onfocus","history","pushState","href","onpopstate","go","@global","ReactDOM","render","react_router_dom","react_router","path","component","getElementById","option","isLocalhost","hostname","register","_register","swUrl","URL","origin","registerValidSW","checkValidServiceWorker","registration","serviceWorker","onupdatefound","installingWorker","installing","onstatechange","subscribeNotifications","_callee3","pushSubscription","endpoint","p256dh_base64url","auth_base64url","_context3","pushManager","getSubscription","unsubscribe","subscribe","userVisibleOnly","getKey","device_token","other_user_ids","_callee4","response","_context4","fetch","status","headers","ready","unregister","_update","_callee6","_context6","setFullInfo","user_full_info","fullInfoItems","myId","fullInfo","withSaveRef","forwardRef","ref","react__WEBPACK_IMPORTED_MODULE_6___default","forwardedRef","withRestoreRef","_class","_Users_alex_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","_Users_alex_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_Users_alex_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","_Users_alex_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__","_Users_alex_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__","rest","_Users_alex_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","defaultNamespace","use","initReactI18next","ns","defaultNS","fallbackNS","resources","DeletedMessage","YourPhone","Country","StartText","Next","InvalidPhoneNumber","More","SendMessage","ChatInfo","ChannelInfo","Stickers","Emoji","emoji","Search","NotEmojiFound","ChooseDefaultSkinTone","SearchResults","Recent","SmileysPeople","AnimalsNature","FoodDrink","Activity","TravelPlaces","Objects","Symbols","Flags","Custom","translation","AppName","Loading","Connecting","Updating","fallbackLng","interpolation","escapeValue","react","cache","LocalStorageBackend","enabled","expirationTime","translationDefaultLng","read","data","translationCurrentLng","addResourceBundle","only_local","info","_language","language_pack_id","processStrings","save","changeLanguage","languagePackStrings","strings","_x3","localization","PureComponent"],"mappings":"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JC,GAAI,IACJC,GAAI,GACJC,GAAI,IACJC,GAAI,IACJC,GAAI,GACJC,GAAI,IACJC,GAAI,KACJC,GAAI,KACJC,GAAI,IACJC,GAAI,OACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,GACJC,GAAI,IACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IACJC,GAAI,IACJC,GAAI,OACJC,GAAI,IACJC,GAAI,GACJC,GAAI,IACJC,GAAI,KACJC,GAAI,GACJC,GAAI,OACJC,GAAI,IACJE,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,GACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,GACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,KACJC,GAAI,IACJC,GAAI,IACJC,GAAI,GACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,GACJC,GAAI,IACJC,GAAI,IACJC,GAAI,GACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,KACJC,GAAI,GACJC,GAAI,IACJC,GAAI,GACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IACJC,GAAI,KACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,GACJC,GAAI,EACJpE,GAAI,EACJqE,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,KACJC,GAAI,KACJC,GAAI,IACJC,GAAI,IACJC,GAAI,KACJC,GAAI,IA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","file":"static/js/main.7e5e0867.chunk.js","sourcesContent":["/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { TYPING_INPUT_INTERVAL_S } from '../Constants';\n\nclass InputTypingManager {\n    constructor(chatId, timeoutCallback) {\n        this.actions = new Map();\n        this.timerId = null;\n        this.chatId = chatId;\n        this.timeoutCallback = timeoutCallback;\n\n        this.handleTimer = this.handleTimer.bind(this);\n        this.addAction = this.addAction.bind(this);\n        this.clearAction = this.clearAction.bind(this);\n        this.setActionsTimeout = this.setActionsTimeout.bind(this);\n    }\n\n    handleTimer() {\n        let now = new Date();\n        let expiredActions = [];\n        for (let [key, value] of this.actions) {\n            let actionTimeout = value.expire - now;\n            if (actionTimeout <= 0) expiredActions.push(key);\n        }\n\n        for (let key of expiredActions) {\n            this.actions.delete(key);\n        }\n\n        let update = {\n            '@type': 'updateUserChatAction',\n            chat_id: this.chatId,\n            action: { '@type': 'chatActionTimerUpdate' }\n        };\n\n        this.timeoutCallback(update);\n        // ChatStore.emit('updateUserChatAction', update);\n\n        this.setActionsTimeout();\n    }\n\n    addAction(userId, action) {\n        let expire = new Date();\n        expire.setSeconds(expire.getSeconds() + TYPING_INPUT_INTERVAL_S);\n\n        this.actions.set(userId, { expire: expire, action: action });\n\n        if (this.timerId) {\n            clearTimeout(this.timerId);\n        }\n\n        this.setActionsTimeout();\n    }\n\n    setActionsTimeout() {\n        let now = new Date();\n        let timeout = 1000000;\n        for (let [key, value] of this.actions) {\n            let actionTimeout = value.expire - now;\n            if (actionTimeout < timeout) timeout = actionTimeout;\n            if (timeout < 0) timeout = 0;\n        }\n\n        if (timeout < 1000000) {\n            this.timerId = setTimeout(this.handleTimer, timeout);\n        }\n    }\n\n    clearAction(userId) {\n        this.actions.delete(userId);\n\n        if (this.timerId) {\n            clearTimeout(this.timerId);\n        }\n\n        this.setActionsTimeout();\n    }\n}\n\nexport default InputTypingManager;\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { EventEmitter } from 'events';\nimport InputTypingManager from '../Utils/InputTypingManager';\nimport UserStore from './UserStore';\nimport TdLibController from '../Controllers/TdLibController';\n\nclass ChatStore extends EventEmitter {\n    constructor() {\n        super();\n\n        this.items = new Map();\n        this.typingManagers = new Map();\n        this.onlineMemberCount = new Map();\n        this.skippedUpdates = [];\n\n        this.addTdLibListener();\n        this.setMaxListeners(Infinity);\n    }\n\n    onUpdate = update => {\n        switch (update['@type']) {\n            case 'updateConnectionState': {\n                if (update.state['@type'] === 'connectionStateUpdating') {\n                    this.updating = true;\n                    this.skippedUpdates = [];\n                } else {\n                    this.updating = false;\n                    if (this.skippedUpdates.length > 0) {\n                        TdLibController.parameters.fastUpdating = false;\n                        this.emitUpdate({\n                            '@type': 'clientUpdateFastUpdatingComplete',\n                            updates: this.skippedUpdates\n                        });\n                        this.skippedUpdates = [];\n                    }\n                }\n                break;\n            }\n            case 'updateChatDefaultDisableNotification': {\n                //TODO: handle updateChatDefaultDisableNotification\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateChatOnlineMemberCount': {\n                this.setOnlineMemberCount(update.chat_id, update.online_member_count);\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateChatDraftMessage': {\n                const chat = this.get(update.chat_id);\n                if (chat) {\n                    this.assign(chat, {\n                        order: update.order === '0' ? chat.order : update.order,\n                        draft_message: update.draft_message\n                    });\n                }\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateChatIsMarkedAsUnread': {\n                const chat = this.get(update.chat_id);\n                if (chat) {\n                    this.assign(chat, {\n                        is_marked_as_unread: update.is_marked_as_unread\n                    });\n                }\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateChatIsPinned': {\n                const chat = this.get(update.chat_id);\n                if (chat) {\n                    this.assign(chat, {\n                        order: update.order === '0' ? chat.order : update.order,\n                        is_pinned: update.is_pinned\n                    });\n                }\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateChatIsSponsored': {\n                const chat = this.get(update.chat_id);\n                if (chat) {\n                    this.assign(chat, {\n                        order: update.order === '0' ? chat.order : update.order,\n                        is_sponsored: update.is_sponsored\n                    });\n                }\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateChatLastMessage': {\n                const chat = this.get(update.chat_id);\n                if (chat) {\n                    this.assign(chat, {\n                        order: update.order === '0' ? chat.order : update.order,\n                        last_message: update.last_message\n                    });\n                }\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateChatNotificationSettings': {\n                const chat = this.get(update.chat_id);\n                if (chat) {\n                    this.assign(chat, {\n                        notification_settings: update.notification_settings\n                    });\n                }\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateChatOrder': {\n                const chat = this.get(update.chat_id);\n                if (chat) {\n                    this.assign(chat, { order: update.order });\n                }\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateChatPhoto': {\n                const chat = this.get(update.chat_id);\n                if (chat) {\n                    this.assign(chat, { photo: update.photo });\n\n                    switch (chat.type['@type']) {\n                        case 'chatTypeBasicGroup': {\n                            break;\n                        }\n                        case 'chatTypeSupergroup': {\n                            break;\n                        }\n                        case 'chatTypePrivate':\n                        case 'chatTypeSecret': {\n                            const user = UserStore.get(chat.type.user_id);\n                            if (user) {\n                                UserStore.assign(user, { profile_photo: update.photo });\n                            }\n                            break;\n                        }\n                    }\n                }\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateChatPinnedMessage': {\n                const chat = this.get(update.chat_id);\n                if (chat) {\n                    this.assign(chat, { pinned_message_id: update.pinned_message_id });\n                }\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateChatReadInbox': {\n                const chat = this.get(update.chat_id);\n                if (chat) {\n                    this.assign(chat, {\n                        last_read_inbox_message_id: update.last_read_inbox_message_id,\n                        unread_count: update.unread_count\n                    });\n                }\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateChatReadOutbox': {\n                const chat = this.get(update.chat_id);\n                if (chat) {\n                    this.assign(chat, {\n                        last_read_outbox_message_id: update.last_read_outbox_message_id\n                    });\n                }\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateChatReplyMarkup': {\n                const chat = this.get(update.chat_id);\n                if (chat) {\n                    this.assign(chat, {\n                        reply_markup_message_id: update.reply_markup_message_id\n                    });\n                }\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateChatTitle': {\n                const chat = this.get(update.chat_id);\n                if (chat) {\n                    this.assign(chat, { title: update.title });\n                }\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateChatUnreadMentionCount': {\n                const chat = this.get(update.chat_id);\n                if (chat) {\n                    this.assign(chat, {\n                        unread_mention_count: update.unread_mention_count\n                    });\n                }\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateNewChat': {\n                this.set(update.chat);\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateSecretChat': {\n                //TODO: handle updateSecretChat\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateUnreadChatCount': {\n                //TODO: handle updateUnreadChatCount\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateUserChatAction': {\n                let typingManager = this.getTypingManager(update.chat_id);\n                if (!typingManager) {\n                    typingManager = new InputTypingManager(update.chat_id, update => this.emitUpdate(update));\n                    this.setTypingManager(update.chat_id, typingManager);\n                }\n\n                const key = update.user_id;\n                if (update.action['@type'] === 'chatActionCancel') {\n                    typingManager.clearAction(key);\n                } else {\n                    typingManager.addAction(key, update.action);\n                }\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateMessageMentionRead': {\n                const chat = this.get(update.chat_id);\n                if (chat) {\n                    this.assign(chat, {\n                        unread_mention_count: update.unread_mention_count\n                    });\n\n                    //chat.unread_mention_count = update.unread_mention_count;\n                }\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            default:\n                break;\n        }\n    };\n\n    onClientUpdate = update => {\n        switch (update['@type']) {\n            case 'clientUpdateClearHistory': {\n                this.emitUpdate(update);\n                break;\n            }\n            case 'clientUpdateLeaveChat': {\n                this.emitUpdate(update);\n                break;\n            }\n            case 'clientUpdateOpenChat': {\n                this.emitUpdate(update);\n                break;\n            }\n        }\n    };\n\n    emitUpdate = update => {\n        this.emit(update['@type'], update);\n    };\n\n    emitFastUpdate = update => {\n        if (this.updating && TdLibController.parameters.fastUpdating) {\n            this.skippedUpdates.push(update);\n            return;\n        }\n\n        this.emit(update['@type'], update);\n    };\n\n    addTdLibListener = () => {\n        TdLibController.addListener('update', this.onUpdate);\n        TdLibController.addListener('clientUpdate', this.onClientUpdate);\n    };\n\n    removeTdLibListener = () => {\n        TdLibController.removeListener('update', this.onUpdate);\n        TdLibController.removeListener('clientUpdate', this.onClientUpdate);\n    };\n\n    assign(source1, source2) {\n        //Object.assign(source1, source2);\n        this.set(Object.assign({}, source1, source2));\n    }\n\n    get(chatId) {\n        return this.items.get(chatId);\n    }\n\n    set(chat) {\n        this.items.set(chat.id, chat);\n    }\n\n    setOnlineMemberCount(chatId, onlineMemberCount) {\n        this.onlineMemberCount.set(chatId, onlineMemberCount);\n    }\n\n    getOnlineMemberCount(chatId) {\n        return this.onlineMemberCount.get(chatId) || 0;\n    }\n\n    getTypingManager(chatId) {\n        return this.typingManagers.get(chatId);\n    }\n\n    setTypingManager(chatId, typingManager) {\n        return this.typingManagers.set(chatId, typingManager);\n    }\n}\n\nconst store = new ChatStore();\nwindow.chat = store;\nexport default store;\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nconst borderStyle = theme => ({\n    borderColor: {\n        borderColor: theme.palette.divider\n    }\n});\n\nconst accentStyles = theme => ({\n    accentColorLight: {\n        color: theme.palette.primary.light\n    },\n    accentColorDark: {\n        color: theme.palette.primary.dark\n    },\n    accentColorMain: {\n        color: theme.palette.primary.main\n    },\n    accentBackgroundLight: {\n        background: theme.palette.primary.light\n    },\n    accentBackgroundDark: {\n        background: theme.palette.primary.dark\n    }\n});\n\nexport { borderStyle, accentStyles };\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport { I18nextProvider } from 'react-i18next';\nimport { getDisplayName } from './Utils/HOC';\nimport LocalizationStore from './Stores/LocalizationStore';\n\nfunction withLanguage(WrappedComponent) {\n    class LanguageWrapper extends React.Component {\n        render() {\n            const i18n = LocalizationStore.i18n;\n\n            return (\n                <I18nextProvider i18n={i18n}>\n                    <WrappedComponent {...this.props} />\n                </I18nextProvider>\n            );\n        }\n    }\n    LanguageWrapper.displayName = `WithLanguage(${getDisplayName(WrappedComponent)})`;\n\n    return LanguageWrapper;\n}\n\nexport default withLanguage;\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport blue from '@material-ui/core/colors/blue';\nimport createMuiTheme from '@material-ui/core/styles/createMuiTheme';\nimport MuiThemeProvider from '@material-ui/core/styles/MuiThemeProvider';\nimport StylesProvider from '@material-ui/styles/StylesProvider';\nimport { getDisplayName } from './Utils/HOC';\nimport Cookies from 'universal-cookie';\nimport ApplicationStore from './Stores/ApplicationStore';\n\nfunction withTheme(WrappedComponent) {\n    class ThemeWrapper extends React.Component {\n        constructor(props) {\n            super(props);\n\n            const cookies = new Cookies();\n            const { type, primary } = cookies.get('themeOptions') || { type: 'light', primary: blue };\n\n            document.body.className = document.body.className.replace(/\\w+-theme/g, '').trim() + type + '-theme';\n\n            let theme = createMuiTheme({\n                palette: {\n                    type: type,\n                    primary: primary,\n                    secondary: { main: '#FF5555' }\n                },\n                typography: {\n                    useNextVariants: true\n                }\n            });\n\n            this.state = {\n                theme: theme\n            };\n        }\n\n        componentDidMount() {\n            ApplicationStore.on('clientUpdateThemeChanging', this.onClientUpdateThemeChanging);\n        }\n\n        componentWillUnmount() {\n            ApplicationStore.removeListener('clientUpdateThemeChanging', this.onClientUpdateThemeChanging);\n        }\n\n        onClientUpdateThemeChanging = update => {\n            const { type, primary } = update;\n\n            const theme = createMuiTheme({\n                palette: {\n                    type: type,\n                    primary: primary,\n                    secondary: { main: '#FF5555' },\n                    typography: {\n                        useNextVariants: true\n                    }\n                }\n            });\n\n            const cookies = new Cookies();\n            cookies.set('themeOptions', { type: type, primary: primary });\n\n            this.setState({ theme: theme }, () => ApplicationStore.emit('clientUpdateThemeChange'));\n        };\n\n        render() {\n            const { theme } = this.state;\n\n            return (\n                <StylesProvider injectFirst>\n                    <MuiThemeProvider theme={theme}>\n                        <WrappedComponent {...this.props} />\n                    </MuiThemeProvider>\n                </StylesProvider>\n            );\n        }\n    }\n    ThemeWrapper.displayName = `WithTheme(${getDisplayName(WrappedComponent)})`;\n\n    return ThemeWrapper;\n}\n\nexport default withTheme;\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { EventEmitter } from 'events';\nimport packageJson from '../../package.json';\nimport { stringToBoolean, getBrowser, getOSName } from '../Utils/Common';\nimport { VERBOSITY_JS_MAX, VERBOSITY_JS_MIN, VERBOSITY_MAX, VERBOSITY_MIN } from '../Constants';\nimport TdClient from 'tdweb/dist/tdweb';\n\nclass TdLibController extends EventEmitter {\n    constructor() {\n        super();\n\n        this.parameters = {\n            useTestDC: false,\n            readOnly: false,\n            verbosity: 1,\n            jsVerbosity: 3,\n            fastUpdating: true,\n            useDatabase: false,\n            mode: 'wasm'\n        };\n\n        this.disableLog = false;\n\n        this.setMaxListeners(Infinity);\n    }\n\n    init = location => {\n        this.setParameters(location);\n\n        const { verbosity, jsVerbosity, useTestDC, readOnly, fastUpdating, useDatabase, mode } = this.parameters;\n\n        let options = {\n            logVerbosityLevel: verbosity,\n            jsLogVerbosityLevel: jsVerbosity,\n            mode: mode, // 'wasm-streaming'/'wasm'/'asmjs'\n            prefix: useTestDC ? 'tdlib_test' : 'tdlib',\n            readOnly: readOnly,\n            isBackground: false,\n            useDatabase: useDatabase\n            // onUpdate: update => this.emit('update', update)\n        };\n\n        console.log(\n            `[TdLibController] (fast_updating=${fastUpdating}) Start client with params=${JSON.stringify(options)}`\n        );\n\n        this.client = new TdClient(options);\n        this.client.onUpdate = update => {\n            if (!this.disableLog) {\n                if (update['@type'] === 'updateFile') {\n                    console.log('receive updateFile file_id=' + update.file.id, update);\n                } else {\n                    console.log('receive update', update);\n                }\n            }\n            this.emit('update', update);\n        };\n    };\n\n    clientUpdate = update => {\n        if (!this.disableLog) {\n            console.log('clientUpdate', update);\n        }\n        this.emit('clientUpdate', update);\n    };\n\n    setParameters = location => {\n        if (!location) return;\n\n        const { search } = location;\n        if (!search) return;\n\n        const params = new URLSearchParams(search.toLowerCase());\n\n        if (params.has('test')) {\n            this.parameters.useTestDC = stringToBoolean(params.get('test'));\n        }\n\n        if (params.has('verbosity')) {\n            const verbosity = parseInt(params.get('verbosity'), 10);\n            if (verbosity >= VERBOSITY_MIN && verbosity <= VERBOSITY_MAX) {\n                this.parameters.verbosity = verbosity;\n            }\n        }\n\n        if (params.has('jsverbosity')) {\n            const jsVerbosity = parseInt(params.get('jsverbosity'), 10);\n            if (jsVerbosity >= VERBOSITY_JS_MIN && jsVerbosity <= VERBOSITY_JS_MAX) {\n                this.parameters.jsVerbosity = jsVerbosity;\n            }\n        }\n\n        if (params.has('tag') && params.has('tagverbosity')) {\n            const tag = params\n                .get('tag')\n                .replace('[', '')\n                .replace(']', '')\n                .split(',');\n            const tagVerbosity = params\n                .get('tagverbosity')\n                .replace('[', '')\n                .replace(']', '')\n                .split(',');\n            if (tag && tagVerbosity && tag.length === tagVerbosity.length) {\n                this.parameters.tag = tag;\n                this.parameters.tagVerbosity = tagVerbosity;\n            }\n        }\n\n        if (params.has('readonly')) {\n            this.parameters.readOnly = stringToBoolean(params.get('readonly'));\n        }\n\n        if (params.has('fastupdating')) {\n            this.parameters.fastUpdating = stringToBoolean(params.get('fastupdating'));\n        }\n\n        if (params.has('db')) {\n            this.parameters.useDatabase = stringToBoolean(params.get('db'));\n        }\n        if (params.has('mode')) {\n            this.parameters.mode = params.get('mode');\n        }\n    };\n\n    send = request => {\n        if (!this.disableLog) {\n            console.log('send', request);\n            return this.client.send(request).then(result => {\n                console.log('receive', result);\n                return result;\n            });\n        } else {\n            return this.client.send(request);\n        }\n    };\n\n    sendTdParameters = async () => {\n        const apiId = process.env.REACT_APP_TELEGRAM_API_ID;\n        const apiHash = process.env.REACT_APP_TELEGRAM_API_HASH;\n\n        if (!apiId || !apiHash) {\n            if (\n                window.confirm(\n                    'API id is missing!\\n' +\n                        'In order to obtain an API id and develop your own application ' +\n                        'using the Telegram API please visit https://core.telegram.org/api/obtaining_api_id'\n                )\n            ) {\n                window.location.href = 'https://core.telegram.org/api/obtaining_api_id';\n            }\n        }\n\n        const { useTestDC } = this.parameters;\n        const { version } = packageJson;\n\n        this.send({\n            '@type': 'setTdlibParameters',\n            parameters: {\n                '@type': 'tdParameters',\n                use_test_dc: useTestDC,\n                api_id: apiId,\n                api_hash: apiHash,\n                system_language_code: navigator.language || 'en',\n                device_model: getBrowser(),\n                system_version: getOSName(),\n                application_version: version,\n                use_secret_chats: false,\n                use_message_database: true,\n                use_file_database: false,\n                database_directory: '/db',\n                files_directory: '/'\n            }\n            // ,\n            // extra: {\n            //     a: ['a', 'b'],\n            //     b: 123\n            // }\n        });\n\n        if (this.parameters.tag && this.parameters.tagVerbosity) {\n            for (let i = 0; i < this.parameters.tag.length; i++) {\n                let tag = this.parameters.tag[i];\n                let tagVerbosity = this.parameters.tagVerbosity[i];\n\n                this.send({\n                    '@type': 'setLogTagVerbosityLevel',\n                    tag: tag,\n                    new_verbosity_level: tagVerbosity\n                });\n            }\n        }\n    };\n\n    logOut() {\n        this.send({ '@type': 'logOut' }).catch(error => {\n            this.emit('tdlib_auth_error', error);\n        });\n    }\n\n    setChatId = (chatId, messageId = null) => {\n        const update = {\n            '@type': 'clientUpdateChatId',\n            chatId: chatId,\n            messageId: messageId\n        };\n\n        this.clientUpdate(update);\n    };\n\n    setMediaViewerContent(content) {\n        this.clientUpdate({\n            '@type': 'clientUpdateMediaViewerContent',\n            content: content\n        });\n    }\n}\n\nconst controller = new TdLibController();\n\nexport default controller;\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nclass ActionScheduler {\n    constructor(actionCallback, cancelCallback) {\n        this.actions = new Map();\n        this.actionCallback = actionCallback;\n        this.cancelCallback = cancelCallback;\n    }\n\n    add = (key, timeout, action, cancel) => {\n        if (this.actions.has(key)) {\n            return false;\n        }\n\n        let expire = new Date();\n        expire.setMilliseconds(expire.getMilliseconds() + timeout);\n\n        this.actions.set(key, { expire: expire, action: action, cancel: cancel });\n\n        if (this.timerId) {\n            clearTimeout(this.timerId);\n        }\n\n        this.setTimeout();\n\n        return true;\n    };\n\n    invoke = async key => {\n        const item = this.actions.get(key);\n        if (!item) return;\n\n        this.actions.delete(key);\n\n        await this.actionCallback({ key: key, action: item.action, cancel: item.cancel });\n        if (item.action) await item.action();\n\n        if (this.timerId) {\n            clearTimeout(this.timerId);\n        }\n\n        this.setTimeout();\n    };\n\n    remove = key => {\n        const item = this.actions.get(key);\n        if (!item) return;\n\n        this.actions.delete(key);\n\n        this.cancelCallback({ key: key, action: item.action, cancel: item.cancel });\n        if (item.cancel) item.cancel();\n\n        if (this.timerId) {\n            clearTimeout(this.timerId);\n        }\n\n        this.setTimeout();\n    };\n\n    setTimeout = () => {\n        let now = new Date();\n        let timeout = 1000000;\n        for (let [key, value] of this.actions) {\n            let actionTimeout = value.expire - now;\n            if (actionTimeout < timeout) timeout = actionTimeout;\n            if (timeout < 0) timeout = 0;\n        }\n\n        if (timeout < 1000000) {\n            this.timerId = setTimeout(this.handleTimer, timeout);\n        }\n    };\n\n    handleTimer = () => {\n        let now = new Date();\n        let expired = [];\n        for (let [key, value] of this.actions) {\n            let actionTimeout = value.expire - now;\n            if (actionTimeout <= 0) expired.push({ key: key, value: value });\n        }\n\n        for (let item of expired) {\n            this.actions.delete(item.key);\n            this.actionCallback({ key: item.key, action: item.value.action, cancel: item.value.cancel });\n            if (item.value.action) item.value.action();\n        }\n\n        this.setTimeout();\n    };\n}\n\nexport default ActionScheduler;\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { EventEmitter } from 'events';\nimport TdLibController from '../Controllers/TdLibController';\nimport ActionScheduler from '../Utils/ActionScheduler';\n\nclass ApplicationStore extends EventEmitter {\n    constructor() {\n        super();\n\n        this.chatId = 0;\n        this.dialogChatId = 0;\n        this.messageId = null;\n        this.statistics = new Map();\n        this.scopeNotificationSettings = new Map();\n        this.authorizationState = null;\n        this.connectionState = null;\n        this.isChatDetailsVisible = false;\n        this.mediaViewerContent = null;\n        this.profileMediaViewerContent = null;\n        this.dragging = false;\n        this.actionScheduler = new ActionScheduler(this.handleScheduledAction, this.handleCancelScheduledAction);\n\n        this.addTdLibListener();\n        this.addStatistics();\n        this.setMaxListeners(Infinity);\n    }\n\n    addScheduledAction = (key, timeout, action, cancel) => {\n        return this.actionScheduler.add(key, timeout, action, cancel);\n    };\n\n    invokeScheduledAction = async key => {\n        await this.actionScheduler.invoke(key);\n    };\n\n    removeScheduledAction = key => {\n        this.actionScheduler.remove(key);\n    };\n\n    handleScheduledAction = item => {\n        console.log('Invoked scheduled action key=', item.key);\n    };\n\n    handleCancelScheduledAction = item => {\n        console.log('Cancel scheduled action key=', item.key);\n    };\n\n    onUpdate = update => {\n        switch (update['@type']) {\n            case 'updateAuthorizationState': {\n                this.authorizationState = update.authorization_state;\n\n                switch (update.authorization_state['@type']) {\n                    case 'authorizationStateLoggingOut':\n                        this.loggingOut = true;\n                        break;\n                    case 'authorizationStateWaitTdlibParameters':\n                        TdLibController.sendTdParameters();\n                        break;\n                    case 'authorizationStateWaitEncryptionKey':\n                        TdLibController.send({ '@type': 'checkDatabaseEncryptionKey' });\n                        break;\n                    case 'authorizationStateWaitPhoneNumber':\n                        break;\n                    case 'authorizationStateWaitCode':\n                        break;\n                    case 'authorizationStateWaitPassword':\n                        break;\n                    case 'authorizationStateReady':\n                        this.loggingOut = false;\n                        break;\n                    case 'authorizationStateClosing':\n                        break;\n                    case 'authorizationStateClosed':\n                        if (!this.loggingOut) {\n                            document.title += ': Zzz';\n                            this.emit('clientUpdateAppInactive');\n                        } else {\n                            TdLibController.init();\n                        }\n                        break;\n                    default:\n                        break;\n                }\n\n                this.emit(update['@type'], update);\n                break;\n            }\n            case 'updateConnectionState': {\n                this.connectionState = update.state;\n\n                this.emit(update['@type'], update);\n                break;\n            }\n            case 'updateScopeNotificationSettings': {\n                this.setNotificationSettings(update.scope['@type'], update.notification_settings);\n\n                this.emit(update['@type'], update);\n                break;\n            }\n            case 'updateFatalError': {\n                this.emit(update['@type'], update);\n\n                break;\n            }\n            case 'updateServiceNotification': {\n                const { type, content } = update;\n\n                if (!content) return;\n                if (content['@type'] === 'messageText') {\n                    const { text } = content;\n                    if (!text) return;\n\n                    if (text['@type'] === 'formattedText' && text.text) {\n                        switch (type) {\n                            case 'AUTH_KEY_DROP_DUPLICATE':\n                                let result = window.confirm(text.text);\n                                if (result) {\n                                    TdLibController.logOut();\n                                }\n                                break;\n                            default:\n                                alert(text.text);\n                                break;\n                        }\n                    }\n                }\n\n                break;\n            }\n            default:\n                break;\n        }\n    };\n\n    onClientUpdate = update => {\n        switch (update['@type']) {\n            case 'clientUpdateChatId': {\n                const extendedUpdate = {\n                    '@type': 'clientUpdateChatId',\n                    nextChatId: update.chatId,\n                    nextMessageId: update.messageId,\n                    previousChatId: this.chatId,\n                    previousMessageId: this.messageId\n                };\n\n                this.chatId = update.chatId;\n                this.messageId = update.messageId;\n\n                this.emit('clientUpdateChatId', extendedUpdate);\n                break;\n            }\n            case 'clientUpdateDialogChatId': {\n                const { chatId } = update;\n                this.dialogChatId = chatId;\n\n                this.emit('clientUpdateDialogChatId', update);\n                break;\n            }\n            case 'clientUpdateFocusWindow': {\n                TdLibController.send({\n                    '@type': 'setOption',\n                    name: 'online',\n                    value: { '@type': 'optionValueBoolean', value: update.focused }\n                });\n\n                this.emit('clientUpdateFocusWindow', update);\n                break;\n            }\n            case 'clientUpdateForward': {\n                this.emit('clientUpdateForward', update);\n                break;\n            }\n            case 'clientUpdateLeaveChat': {\n                if (update.inProgress && this.chatId === update.chatId) {\n                    TdLibController.setChatId(0);\n                }\n\n                break;\n            }\n        }\n    };\n\n    onUpdateStatistics = update => {\n        if (!update) return;\n\n        if (this.statistics.has(update['@type'])) {\n            const count = this.statistics.get(update['@type']);\n\n            this.statistics.set(update['@type'], count + 1);\n        } else {\n            this.statistics.set(update['@type'], 1);\n        }\n    };\n\n    addTdLibListener = () => {\n        TdLibController.addListener('update', this.onUpdate);\n        TdLibController.addListener('clientUpdate', this.onClientUpdate);\n    };\n\n    removeTdLibListener = () => {\n        TdLibController.removeListener('update', this.onUpdate);\n        TdLibController.removeListener('clientUpdate', this.onClientUpdate);\n    };\n\n    addStatistics = () => {\n        TdLibController.addListener('update', this.onUpdateStatistics);\n    };\n\n    setChatId = (chatId, messageId = null) => {\n        const update = {\n            '@type': 'clientUpdateChatId',\n            nextChatId: chatId,\n            nextMessageId: messageId,\n            previousChatId: this.chatId,\n            previousMessageId: this.messageId\n        };\n\n        this.chatId = chatId;\n        this.messageId = messageId;\n        this.emit(update['@type'], update);\n    };\n\n    getChatId() {\n        return this.chatId;\n    }\n\n    getMessageId() {\n        return this.messageId;\n    }\n\n    searchChat(chatId) {\n        this.emit('clientUpdateSearchChat', { chatId: chatId });\n    }\n\n    changeChatDetailsVisibility(visibility) {\n        this.isChatDetailsVisible = visibility;\n        this.emit('clientUpdateChatDetailsVisibility', visibility);\n    }\n\n    setMediaViewerContent(content) {\n        this.mediaViewerContent = content;\n        this.emit('clientUpdateMediaViewerContent', content);\n    }\n\n    setProfileMediaViewerContent(content) {\n        this.profileMediaViewerContent = content;\n        this.emit('clientUpdateProfileMediaViewerContent', content);\n    }\n\n    getConnectionState() {\n        return this.connectionState;\n    }\n\n    getAuthorizationState() {\n        return this.authorizationState;\n    }\n\n    getNotificationSettings(scope) {\n        return this.scopeNotificationSettings.get(scope);\n    }\n\n    setNotificationSettings(scope, notificationSettings) {\n        return this.scopeNotificationSettings.set(scope, notificationSettings);\n    }\n\n    getDragging = () => {\n        return this.dragging;\n    };\n\n    setDragging = value => {\n        this.dragging = value;\n        this.emit('clientUpdateDragging', value);\n    };\n\n    assign(source1, source2) {\n        Object.assign(source1, source2);\n        //this.set(Object.assign({}, source1, source2));\n    }\n}\n\nconst store = new ApplicationStore();\nwindow.application = store;\nexport default store;\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nexport const ANIMATION_FRAME_DURATION_MS = 40;\nexport const ANIMATION_DURATION_200MS = 200;\nexport const ANIMATION_DURATION_300MS = 300;\nexport const ANIMATION_DURATION_500MS = 500;\nexport const EMOJI_PICKER_TIMEOUT_MS = 100;\nexport const CHAT_SLICE_LIMIT = 25;\nexport const LOCATION_HEIGHT = 150;\nexport const LOCATION_SCALE = 2;\nexport const LOCATION_WIDTH = 300;\nexport const LOCATION_ZOOM = 16;\nexport const MEDIA_SLICE_LIMIT = 20;\nexport const MESSAGE_SLICE_LIMIT = 20;\nexport const SHOW_GO_DOWN_BUTTON_DELTA = 40;\nexport const MUTED_VALUE_MAX = 2147483647; // int32.max = 2^32 - 1\nexport const MUTED_VALUE_MIN = 0;\nexport const NOTIFICATIONS_DEBOUNCE_DELAY_MS = 500;\nexport const PHOTO_BIG_SIZE = 1280;\nexport const PHOTO_DISPLAY_SIZE = 260;\nexport const PHOTO_DISPLAY_SMALL_SIZE = 65;\nexport const PHOTO_SIZE = 320;\nexport const PHOTO_THUMBNAIL_SIZE = 90;\nexport const POLL_QUESTION_LENGTH = 255;\nexport const POLL_QUESTION_HINT_LENGTH = POLL_QUESTION_LENGTH - 79;\nexport const POLL_QUESTION_MAX_LENGTH = POLL_QUESTION_LENGTH + 99;\nexport const POLL_OPTION_LENGTH = 100;\nexport const POLL_OPTION_HINT_LENGTH = POLL_OPTION_LENGTH - 29;\nexport const POLL_OPTION_MAX_LENGTH = POLL_OPTION_LENGTH + 99;\nexport const POLL_OPTIONS_MAX_COUNT = 10;\nexport const SERVICE_NOTIFICATIONS_USER_ID = 777000;\nexport const STICKER_DISPLAY_SIZE = 192;\nexport const STICKER_HINT_DISPLAY_SIZE = 76;\nexport const STICKER_PREVIEW_DISPLAY_SIZE = 256;\nexport const STICKER_SMALL_DISPLAY_SIZE = 64;\nexport const PROFILE_PHOTO_BIG_SIZE = 640;\nexport const PROFILE_PHOTO_SMALL_SIZE = 160;\nexport const TYPING_INPUT_INTERVAL_S = 8;\nexport const TYPING_OUTPUT_INTERVAL_S = 8;\nexport const VERBOSITY_JS_MAX = 20;\nexport const VERBOSITY_JS_MIN = 0;\nexport const VERBOSITY_MAX = 20;\nexport const VERBOSITY_MIN = 0;\nexport const USERNAME_LENGTH_MIN = 5;\nexport const MAX_SNACK = 10;\nexport const NOTIFICATION_AUTO_HIDE_DURATION_MS = 5000;\nexport const THUMBNAIL_BLURRED_SIZE = 320;\nexport const PRELOAD_AUDIO_SIZE = 200 * 1024; //10 * 1024 * 1024;\nexport const PRELOAD_ANIMATION_SIZE = 200 * 1024; //10 * 1024 * 1024;\nexport const PRELOAD_DOCUMENT_SIZE = 200 * 1024;\nexport const PRELOAD_STICKER_SIZE = 10 * 200 * 1024;\nexport const PRELOAD_VOICENOTE_SIZE = 200 * 1024; //10 * 1024 * 1024;\nexport const PRELOAD_VIDEO_SIZE = 10 * 1024 * 1024;\nexport const PRELOAD_VIDEONOTE_SIZE = 200 * 1024; //10 * 1024 * 1024;\nexport const THUMBNAIL_PRIORITY = 32;\nexport const FILE_PRIORITY = 1;\nexport const OPTIMIZATIONS_FIRST_START = true;\nexport const PLAYER_VOLUME_NORMAL = 0.25;\nexport const PLAYER_STARTTIME = 0.0;\nexport const PLAYER_PLAYBACKRATE_NORMAL = 1.0;\nexport const PLAYER_PLAYBACKRATE_FAST = 1.75;\nexport const PLAYER_PROGRESS_TIMEOUT_MS = 250;\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { formatNumber, formatIncompletePhoneNumber } from 'libphonenumber-js';\nimport { PHOTO_SIZE, PHOTO_THUMBNAIL_SIZE } from '../Constants';\n\nfunction getOSName() {\n    let OSName = 'Unknown';\n    if (window.navigator.userAgent.indexOf('Windows NT 10.0') != -1) OSName = 'Windows 10';\n    if (window.navigator.userAgent.indexOf('Windows NT 6.2') != -1) OSName = 'Windows 8';\n    if (window.navigator.userAgent.indexOf('Windows NT 6.1') != -1) OSName = 'Windows 7';\n    if (window.navigator.userAgent.indexOf('Windows NT 6.0') != -1) OSName = 'Windows Vista';\n    if (window.navigator.userAgent.indexOf('Windows NT 5.1') != -1) OSName = 'Windows XP';\n    if (window.navigator.userAgent.indexOf('Windows NT 5.0') != -1) OSName = 'Windows 2000';\n    if (window.navigator.userAgent.indexOf('Mac') != -1) OSName = 'Mac/iOS';\n    if (window.navigator.userAgent.indexOf('X11') != -1) OSName = 'UNIX';\n    if (window.navigator.userAgent.indexOf('Linux') != -1) OSName = 'Linux';\n\n    return OSName;\n}\n\nfunction getBrowser() {\n    let browser_name = '';\n    let isIE = /*@cc_on!@*/ false || !!document.documentMode;\n    let isEdge = !isIE && !!window.StyleMedia;\n    if (navigator.userAgent.indexOf('Chrome') != -1 && !isEdge) {\n        browser_name = 'Chrome';\n    } else if (navigator.userAgent.indexOf('Safari') != -1 && !isEdge) {\n        browser_name = 'Safari';\n    } else if (navigator.userAgent.indexOf('Firefox') != -1) {\n        browser_name = 'Firefox';\n    } else if (navigator.userAgent.indexOf('MSIE') != -1 || !!document.documentMode == true) {\n        //IF IE > 10\n        browser_name = 'IE';\n    } else if (isEdge) {\n        browser_name = 'Edge';\n    } else {\n        browser_name = 'Unknown';\n    }\n\n    return browser_name;\n}\n\nfunction isValidPhoneNumber(phoneNumber) {\n    if (!phoneNumber) return false;\n\n    let isBad = !phoneNumber.match(/^[\\d\\-+\\s]+$/);\n    if (!isBad) {\n        phoneNumber = phoneNumber.replace(/\\D/g, '');\n        if (phoneNumber.length < 7) {\n            isBad = true;\n        }\n    }\n\n    return !isBad;\n}\n\nfunction stringToBoolean(string) {\n    switch (string.toLowerCase().trim()) {\n        case 'true':\n        case 'yes':\n        case '1':\n            return true;\n        case 'false':\n        case 'no':\n        case '0':\n        case null:\n            return false;\n        default:\n            return Boolean(string);\n    }\n}\n\nfunction orderCompare(order1, order2) {\n    let diff = order1.length - order2.length;\n    if (diff !== 0) return diff < 0 ? -1 : 1;\n    if (order1 === order2) return 0;\n\n    return order1 > order2 ? 1 : -1;\n}\n\nfunction equal(a1, a2) {\n    if (!(a1 instanceof Array && a2 instanceof Array)) return a1 === a2;\n\n    const l1 = a1.length,\n        l2 = a2.length;\n\n    if (l1 !== l2) return false;\n\n    for (var i = 0; i < l1; i++) {\n        if (typeof a1[i] === 'object' && typeof a2[i] === 'object') {\n            if (a1[i].id !== a2[i].id) return false;\n        } else if (a1[i] !== a2[i]) return false;\n    }\n\n    return true;\n}\n\nfunction getPhotoThumbnailSize(sizes) {\n    return getSize(sizes, PHOTO_THUMBNAIL_SIZE);\n}\n\nfunction getPhotoSize(sizes) {\n    return getSize(sizes, PHOTO_SIZE);\n}\n\nfunction getSize(sizes, dimension) {\n    if (!sizes) return null;\n    if (sizes.length === 0) return null;\n    if (dimension === 0) return null;\n\n    // let iSize = sizes[2];//.find(x => x.type === 'i');\n    // if (iSize){\n    //     return iSize;\n    // }\n\n    let useWidth = sizes[0].width >= sizes[0].height;\n    let diff = Math.abs(dimension - (useWidth ? sizes[0].width : sizes[0].height));\n    let index = 0;\n    for (let i = 1; i < sizes.length; i++) {\n        if (sizes[i].type === 'i' && !sizes[i].photo.local.is_downloading_completed) {\n            continue;\n        }\n\n        let currDiff = Math.abs(dimension - (useWidth ? sizes[i].width : sizes[i].height));\n        if (currDiff < diff) {\n            index = i;\n            currDiff = diff;\n        }\n    }\n\n    return sizes[index];\n}\n\nfunction getFitSize(size, max, increaseToMax = true) {\n    if (!size) return { width: 0, height: 0 };\n\n    if (!increaseToMax) {\n        if (size.width < max && size.height < max) {\n            return size;\n        }\n    }\n\n    if (size.width > size.height) {\n        return { width: max, height: Math.floor((size.height * max) / size.width) };\n    }\n\n    return { width: Math.floor((size.width * max) / size.height), height: max };\n}\n\nfunction itemsInView(scrollContainerRef, itemsContainerRef) {\n    let scrollContainer = scrollContainerRef.current;\n    let itemsContainer = itemsContainerRef ? itemsContainerRef.current : scrollContainer;\n\n    const items = [];\n    for (let i = 0; i < itemsContainer.children.length; i++) {\n        let child = itemsContainer.children[i];\n        if (\n            child.offsetTop + child.offsetHeight >= scrollContainer.scrollTop &&\n            child.offsetTop <= scrollContainer.scrollTop + scrollContainer.offsetHeight\n        ) {\n            items.push(i);\n        }\n    }\n\n    return items;\n}\n\n// Returns a function, that, when invoked, will only be triggered at most once\n// during a given window of time. Normally, the throttled function will run\n// as much as it can, without ever going more than once per `wait` duration;\n// but if you'd like to disable the execution on the leading edge, pass\n// `{leading: false}`. To disable execution on the trailing edge, ditto.\nfunction throttle(func, wait, options) {\n    var context, args, result;\n    var timeout = null;\n    var previous = 0;\n    if (!options) options = {};\n    var later = function() {\n        previous = options.leading === false ? 0 : Date.now();\n        timeout = null;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n    };\n    return function() {\n        var now = Date.now();\n        if (!previous && options.leading === false) previous = now;\n        var remaining = wait - (now - previous);\n        context = this;\n        args = arguments;\n        if (remaining <= 0 || remaining > wait) {\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = null;\n            }\n            previous = now;\n            result = func.apply(context, args);\n            if (!timeout) context = args = null;\n        } else if (!timeout && options.trailing !== false) {\n            timeout = setTimeout(later, remaining);\n        }\n        return result;\n    };\n}\n\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\nfunction debounce(func, wait, immediate) {\n    var timeout;\n    return function() {\n        var context = this,\n            args = arguments;\n        var later = function() {\n            timeout = null;\n            if (!immediate) {\n                func.apply(context, args);\n            }\n        };\n        var callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) {\n            func.apply(context, args);\n        }\n    };\n}\n\nfunction getFirstLetter(str) {\n    if (!str) return '';\n    for (let i = 0; i < str.length; i++) {\n        if (str[i].toUpperCase() !== str[i].toLowerCase()) {\n            return str[i];\n        } else if (str[i] >= '0' && str[i] <= '9') {\n            return str[i];\n        }\n    }\n\n    return '';\n}\n\nfunction getLetters(title) {\n    if (!title) return null;\n    if (title.length === 0) return null;\n\n    let split = title.split(' ');\n    if (split.length > 1) {\n        return getFirstLetter(split[0]) + getFirstLetter(split[1]);\n    }\n\n    return null;\n}\n\nfunction readImageSize(file, callback) {\n    let useBlob = false;\n    // Create a new FileReader instance\n    // https://developer.mozilla.org/en/docs/Web/API/FileReader\n    var reader = new FileReader();\n\n    // Once a file is successfully readed:\n    reader.addEventListener('load', function() {\n        // At this point `reader.result` contains already the Base64 Data-URL\n        // and we've could immediately show an image using\n        // `elPreview.insertAdjacentHTML(\"beforeend\", \"<img src='\"+ reader.result +\"'>\");`\n        // But we want to get that image's width and height px values!\n        // Since the File Object does not hold the size of an image\n        // we need to create a new image and assign it's src, so when\n        // the image is loaded we can calculate it's width and height:\n        var image = new Image();\n        image.addEventListener('load', function() {\n            // Concatenate our HTML image info\n            // var imageInfo = file.name    +' '+ // get the value of `name` from the `file` Obj\n            //     image.width  +''+ // But get the width from our `image`\n            //     image.height +' '+\n            //     file.type    +' '+\n            //     Math.round(file.size/1024) +'KB';\n\n            //alert(imageInfo);\n            file.photoWidth = image.width;\n            file.photoHeight = image.height;\n            // Finally append our created image and the HTML info string to our `#preview`\n            //elPreview.appendChild( this );\n            //elPreview.insertAdjacentHTML(\"beforeend\", imageInfo +'<br>');\n\n            // If we set the variable `useBlob` to true:\n            // (Data-URLs can end up being really large\n            // `src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAA...........etc`\n            // Blobs are usually faster and the image src will hold a shorter blob name\n            // src=\"blob:http%3A//example.com/2a303acf-c34c-4d0a-85d4-2136eef7d723\"\n            if (useBlob) {\n                // Free some memory for optimal performance\n                window.URL.revokeObjectURL(image.src);\n            }\n\n            callback(file);\n        });\n\n        image.src = useBlob ? window.URL.createObjectURL(file) : reader.result;\n    });\n\n    // https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL\n    reader.readAsDataURL(file);\n}\n\nfunction formatPhoneNumber(number) {\n    const unformattedNumber = number && number.startsWith('+') ? number : '+' + number;\n    const formattedNumber = formatNumber(unformattedNumber, 'International');\n    return formattedNumber || unformattedNumber;\n}\n\nfunction formatPhoneNumberSimple(code, number, countryCode) {\n    let result = formatIncompletePhoneNumber('+' + code + number, countryCode);\n\n    return result.substr(code.length + 1).trim();\n}\n\n/**\n * use this to make a Base64 encoded string URL friendly,\n * i.e. '+' and '/' are replaced with '-' and '_' also any trailing '='\n * characters are removed\n *\n * @param {String} str the encoded string\n * @returns {String} the URL friendly encoded String\n */\nfunction Base64EncodeUrl(str) {\n    return str\n        .replace(/\\+/g, '-')\n        .replace(/\\//g, '_')\n        .replace(/\\=+$/, '');\n}\n\n/**\n * Use this to recreate a Base64 encoded string that was made URL friendly\n * using Base64EncodeurlFriendly.\n * '-' and '_' are replaced with '+' and '/' and also it is padded with '+'\n *\n * @param {String} str the encoded string\n * @returns {String} the URL friendly encoded String\n */\nfunction Base64DecodeUrl(str) {\n    str = (str + '===').slice(0, str.length + (str.length % 4));\n    return str.replace(/-/g, '+').replace(/_/g, '/');\n}\n\nfunction arrayBufferToBase64(buffer) {\n    var binary = '';\n    var bytes = new Uint8Array(buffer);\n    var len = bytes.byteLength;\n    for (var i = 0; i < len; i++) {\n        binary += String.fromCharCode(bytes[i]);\n    }\n    return Base64EncodeUrl(window.btoa(binary));\n}\n\nfunction isAuthorizationReady(state) {\n    if (!state) return false;\n\n    return state['@type'] === 'authorizationStateReady';\n}\n\nfunction between(item, first, last) {\n    return item > first && item < last;\n}\n\nfunction getDurationString(secondsTotal) {\n    let hours = Math.floor(secondsTotal / 3600);\n    let minutes = Math.floor((secondsTotal - hours * 3600) / 60);\n    let seconds = secondsTotal - hours * 3600 - minutes * 60;\n\n    if (hours > 0 && minutes < 10) {\n        minutes = '0' + minutes;\n    }\n    if (seconds < 10) {\n        seconds = '0' + seconds;\n    }\n\n    return (hours > 0 ? hours + ':' : '') + minutes + ':' + seconds;\n}\n\nfunction getRandomInt(min, max) {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min)) + min; //The maximum is exclusive and the minimum is inclusive\n}\n\nexport {\n    getBrowser,\n    getOSName,\n    isValidPhoneNumber,\n    stringToBoolean,\n    orderCompare,\n    getSize,\n    getPhotoThumbnailSize,\n    getPhotoSize,\n    getFitSize,\n    itemsInView,\n    throttle,\n    debounce,\n    getLetters,\n    readImageSize,\n    formatPhoneNumber,\n    formatPhoneNumberSimple,\n    arrayBufferToBase64,\n    isAuthorizationReady,\n    between,\n    getDurationString,\n    getRandomInt,\n    equal\n};\n","/*\n *  Copyright (c) 2018-present, Aleksandr Telegin\n *  The data are taken from Wikipedia\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { getPhoneCode } from 'libphonenumber-js';\nimport '../../node_modules/flag-icon-css/css/flag-icon.css';\n\nconst COUNTRY_NAMES_EN = {\n        AF: 'Afghanistan',\n        AL: 'Albania',\n        DZ: 'Algeria',\n        AS: 'American Samoa',\n        AD: 'Andorra',\n        AO: 'Angola',\n        AI: 'Anguilla',\n        AQ: 'Antarctica',\n        AG: 'Antigua and Barbuda',\n        AR: 'Argentina',\n        AM: 'Armenia',\n        AW: 'Aruba',\n        AU: 'Australia',\n        AT: 'Austria',\n        AZ: 'Azerbaijan',\n        BS: 'Bahamas',\n        BH: 'Bahrain',\n        BD: 'Bangladesh',\n        BB: 'Barbados',\n        BY: 'Belarus',\n        BE: 'Belgium',\n        BZ: 'Belize',\n        BJ: 'Benin',\n        BM: 'Bermuda',\n        BT: 'Bhutan',\n        BO: 'Bolivia',\n        BA: 'Bosnia and Herzegovina',\n        BW: 'Botswana',\n        BR: 'Brazil',\n        IO: 'British Indian Ocean Territory',\n        VG: 'British Virgin Islands',\n        BN: 'Brunei',\n        BG: 'Bulgaria',\n        BF: 'Burkina Faso',\n        BI: 'Burundi',\n        KH: 'Cambodia',\n        CM: 'Cameroon',\n        CA: 'Canada',\n        CV: 'Cape Verde',\n        KY: 'Cayman Islands',\n        CF: 'Central African Republic',\n        TD: 'Chad',\n        CL: 'Chile',\n        CN: 'China',\n        CX: 'Christmas Island',\n        CC: 'Cocos Islands',\n        CO: 'Colombia',\n        KM: 'Comoros',\n        CK: 'Cook Islands',\n        CR: 'Costa Rica',\n        HR: 'Croatia',\n        CU: 'Cuba',\n        CW: 'Curacao',\n        CY: 'Cyprus',\n        CZ: 'Czech Republic',\n        CD: 'Democratic Republic of the Congo',\n        DK: 'Denmark',\n        DJ: 'Djibouti',\n        DM: 'Dominica',\n        DO: 'Dominican Republic',\n        TL: 'East Timor',\n        EC: 'Ecuador',\n        EG: 'Egypt',\n        SV: 'El Salvador',\n        GQ: 'Equatorial Guinea',\n        ER: 'Eritrea',\n        EE: 'Estonia',\n        ET: 'Ethiopia',\n        FK: 'Falkland Islands',\n        FO: 'Faroe Islands',\n        FJ: 'Fiji',\n        FI: 'Finland',\n        FR: 'France',\n        PF: 'French Polynesia',\n        GA: 'Gabon',\n        GM: 'Gambia',\n        GE: 'Georgia',\n        DE: 'Germany',\n        GH: 'Ghana',\n        GI: 'Gibraltar',\n        GR: 'Greece',\n        GL: 'Greenland',\n        GD: 'Grenada',\n        GU: 'Guam',\n        GT: 'Guatemala',\n        GG: 'Guernsey',\n        GN: 'Guinea',\n        GW: 'Guinea-Bissau',\n        GY: 'Guyana',\n        HT: 'Haiti',\n        HN: 'Honduras',\n        HK: 'Hong Kong',\n        HU: 'Hungary',\n        IS: 'Iceland',\n        IN: 'India',\n        ID: 'Indonesia',\n        IR: 'Iran',\n        IQ: 'Iraq',\n        IE: 'Ireland',\n        IM: 'Isle of Man',\n        IL: 'Israel',\n        IT: 'Italy',\n        CI: 'Ivory Coast',\n        JM: 'Jamaica',\n        JP: 'Japan',\n        JE: 'Jersey',\n        JO: 'Jordan',\n        KZ: 'Kazakhstan',\n        KE: 'Kenya',\n        KI: 'Kiribati',\n        XK: 'Kosovo',\n        KW: 'Kuwait',\n        KG: 'Kyrgyzstan',\n        LA: 'Laos',\n        LV: 'Latvia',\n        LB: 'Lebanon',\n        LS: 'Lesotho',\n        LR: 'Liberia',\n        LY: 'Libya',\n        LI: 'Liechtenstein',\n        LT: 'Lithuania',\n        LU: 'Luxembourg',\n        MO: 'Macau',\n        MK: 'Macedonia',\n        MG: 'Madagascar',\n        MW: 'Malawi',\n        MY: 'Malaysia',\n        MV: 'Maldives',\n        ML: 'Mali',\n        MT: 'Malta',\n        MH: 'Marshall Islands',\n        MR: 'Mauritania',\n        MU: 'Mauritius',\n        YT: 'Mayotte',\n        MX: 'Mexico',\n        FM: 'Micronesia',\n        MD: 'Moldova',\n        MC: 'Monaco',\n        MN: 'Mongolia',\n        ME: 'Montenegro',\n        MS: 'Montserrat',\n        MA: 'Morocco',\n        MZ: 'Mozambique',\n        MM: 'Myanmar',\n        NA: 'Namibia',\n        NR: 'Nauru',\n        NP: 'Nepal',\n        NL: 'Netherlands',\n        AN: 'Netherlands Antilles',\n        NC: 'New Caledonia',\n        NZ: 'New Zealand',\n        NI: 'Nicaragua',\n        NE: 'Niger',\n        NG: 'Nigeria',\n        NU: 'Niue',\n        KP: 'North Korea',\n        MP: 'Northern Mariana Islands',\n        NO: 'Norway',\n        OM: 'Oman',\n        PK: 'Pakistan',\n        PW: 'Palau',\n        PS: 'Palestine',\n        PA: 'Panama',\n        PG: 'Papua New Guinea',\n        PY: 'Paraguay',\n        PE: 'Peru',\n        PH: 'Philippines',\n        PN: 'Pitcairn',\n        PL: 'Poland',\n        PT: 'Portugal',\n        PR: 'Puerto Rico',\n        QA: 'Qatar',\n        CG: 'Republic of the Congo',\n        RE: 'Reunion',\n        RO: 'Romania',\n        RU: 'Russia',\n        RW: 'Rwanda',\n        BL: 'Saint Barthelemy',\n        SH: 'Saint Helena',\n        KN: 'Saint Kitts and Nevis',\n        LC: 'Saint Lucia',\n        MF: 'Saint Martin',\n        PM: 'Saint Pierre and Miquelon',\n        VC: 'Saint Vincent and the Grenadines',\n        WS: 'Samoa',\n        SM: 'San Marino',\n        ST: 'Sao Tome and Principe',\n        SA: 'Saudi Arabia',\n        SN: 'Senegal',\n        RS: 'Serbia',\n        SC: 'Seychelles',\n        SL: 'Sierra Leone',\n        SG: 'Singapore',\n        SX: 'Sint Maarten',\n        SK: 'Slovakia',\n        SI: 'Slovenia',\n        SB: 'Solomon Islands',\n        SO: 'Somalia',\n        ZA: 'South Africa',\n        KR: 'South Korea',\n        SS: 'South Sudan',\n        ES: 'Spain',\n        LK: 'Sri Lanka',\n        SD: 'Sudan',\n        SR: 'Suriname',\n        SJ: 'Svalbard and Jan Mayen',\n        SZ: 'Swaziland',\n        SE: 'Sweden',\n        CH: 'Switzerland',\n        SY: 'Syria',\n        TW: 'Taiwan',\n        TJ: 'Tajikistan',\n        TZ: 'Tanzania',\n        TH: 'Thailand',\n        TG: 'Togo',\n        TK: 'Tokelau',\n        TO: 'Tonga',\n        TT: 'Trinidad and Tobago',\n        TN: 'Tunisia',\n        TR: 'Turkey',\n        TM: 'Turkmenistan',\n        TC: 'Turks and Caicos Islands',\n        TV: 'Tuvalu',\n        VI: 'U.S. Virgin Islands',\n        UG: 'Uganda',\n        UA: 'Ukraine',\n        AE: 'United Arab Emirates',\n        GB: 'United Kingdom',\n        US: 'United States',\n        UY: 'Uruguay',\n        UZ: 'Uzbekistan',\n        VU: 'Vanuatu',\n        VA: 'Vatican',\n        VE: 'Venezuela',\n        VN: 'Vietnam',\n        WF: 'Wallis and Futuna',\n        EH: 'Western Sahara',\n        YE: 'Yemen',\n        ZM: 'Zambia',\n        ZW: 'Zimbabwe'\n    },\n    COUNTRY_NAMES_RU = {\n        AU: '',\n        AT: '',\n        AZ: '',\n        AL: '',\n        DZ: '',\n        AS: ' ',\n        AI: '',\n        AO: '',\n        AD: '',\n        AQ: '',\n        AG: '  ',\n        AR: '',\n        AM: '',\n        AW: '',\n        AF: '',\n        BS: '',\n        BD: '',\n        BB: '',\n        BH: '',\n        BY: '',\n        BZ: '',\n        BE: '',\n        BJ: '',\n        BM: '',\n        BG: '',\n        BO: '',\n        BA: '  ',\n        BW: '',\n        BR: '',\n        IO: '    ',\n        BN: '',\n        BF: '-',\n        BI: '',\n        BT: '',\n        VU: '',\n        HU: '',\n        VE: '',\n        VG: '  ()',\n        VI: '  ()',\n        VN: '',\n        GA: '',\n        HT: '',\n        GY: '',\n        GM: '',\n        GH: '',\n        GT: '',\n        GN: '',\n        GW: '-',\n        DE: '',\n        GG: '',\n        GI: '',\n        HN: '',\n        HK: '',\n        GD: '',\n        GL: '',\n        GR: '',\n        GE: '',\n        GU: '',\n        DK: '',\n        JE: '',\n        DJ: '',\n        DM: '',\n        DO: ' ',\n        EG: '',\n        ZM: '',\n        EH: ' ',\n        ZW: '',\n        IL: '',\n        IN: '',\n        ID: '',\n        JO: '',\n        IQ: '',\n        IR: '',\n        IE: '',\n        IS: '',\n        ES: '',\n        IT: '',\n        YE: '',\n        CV: '-',\n        KZ: '',\n        KH: '',\n        CM: '',\n        CA: '',\n        QA: '',\n        KE: '',\n        CY: '',\n        KG: '',\n        KI: '',\n        CN: '',\n        CC: ' () ',\n        CO: '',\n        KM: '',\n        CG: '',\n        CD: ',  ',\n        KP: ', - ',\n        KR: ', ',\n        CR: '-',\n        CI: \" '\",\n        CU: '',\n        KW: '',\n        CW: '',\n        LA: '',\n        LV: '',\n        LS: '',\n        LB: '',\n        LY: '',\n        LR: '',\n        LI: '',\n        LT: '',\n        LU: '',\n        MU: '',\n        MR: '',\n        MG: '',\n        YT: '',\n        MO: '',\n        MW: '',\n        MY: '',\n        ML: '',\n        MV: '',\n        MT: '',\n        MA: '',\n        MH: ' ',\n        MX: '',\n        FM: ',  ',\n        MZ: '',\n        MD: '',\n        MC: '',\n        MN: '',\n        MS: '',\n        MM: '',\n        NA: '',\n        NR: '',\n        NP: '',\n        NE: '',\n        NG: '',\n        NL: '',\n        NI: '',\n        NU: '',\n        NZ: ' ',\n        NC: ' ',\n        NO: '',\n        AE: '  ',\n        OM: '',\n        IM: ' ',\n        CX: ' ',\n        KY: ' ',\n        CK: ' ',\n        TC: '   ',\n        PK: '',\n        PW: '',\n        PS: ' ',\n        PA: '',\n        VA: '',\n        PG: '- ',\n        PY: '',\n        PE: '',\n        PN: '',\n        PL: '',\n        PT: '',\n        PR: '-',\n        MK: ' ',\n        RE: '',\n        RU: '',\n        RW: '',\n        RO: '',\n        WS: '',\n        SM: '-',\n        ST: '-  ',\n        SA: ' ',\n        SZ: '',\n        SH: ' ',\n        MP: '  ',\n        BL: '-',\n        MF: '-',\n        SN: '',\n        VC: '-  ',\n        KN: '-  ',\n        LC: '-',\n        PM: '-  ',\n        RS: '',\n        SC: '',\n        SG: '',\n        SX: '-',\n        SY: '',\n        SK: '',\n        SI: '',\n        GB: ' ',\n        US: ' ',\n        SB: ' ',\n        SO: '',\n        SD: '',\n        SR: '',\n        SL: '-',\n        TJ: '',\n        TH: '',\n        TW: '',\n        TZ: '',\n        TL: '-',\n        TG: '',\n        TK: '',\n        TO: '',\n        TT: '  ',\n        TV: '',\n        TN: '',\n        TM: '',\n        TR: '',\n        UG: '',\n        UZ: '',\n        UA: '',\n        WF: '  ',\n        UY: '',\n        FO: ' ',\n        FJ: '',\n        PH: '',\n        FI: '',\n        FK: ' ',\n        FR: '',\n        PF: ' ',\n        HR: '',\n        CF: ' ',\n        TD: '',\n        ME: '',\n        CZ: ' ',\n        CL: '',\n        CH: '',\n        SE: '',\n        SJ: '   ',\n        LK: '-',\n        EC: '',\n        GQ: ' ',\n        SV: '-',\n        ER: '',\n        EE: '',\n        ET: '',\n        ZA: ' ',\n        SS: ' ',\n        JM: '',\n        JP: ''\n    },\n    PHONE_CODES = {\n        AF: 93,\n        AL: 355,\n        DZ: 213,\n        AS: 1684,\n        AD: 376,\n        AO: 244,\n        AI: 1264,\n        AQ: 672,\n        AG: 1268,\n        AR: 54,\n        AM: 374,\n        AW: 297,\n        AU: 61,\n        AT: 43,\n        AZ: 994,\n        BS: 1242,\n        BH: 973,\n        BD: 880,\n        BB: 1246,\n        BY: 375,\n        BE: 32,\n        BZ: 501,\n        BJ: 229,\n        BM: 1441,\n        BT: 975,\n        BO: 591,\n        BA: 387,\n        BW: 267,\n        BR: 55,\n        IO: 246,\n        VG: 1284,\n        BN: 673,\n        BG: 359,\n        BF: 226,\n        BI: 257,\n        KH: 855,\n        CM: 237,\n        US: 1,\n        CA: 1,\n        CV: 238,\n        KY: 1345,\n        CF: 236,\n        TD: 235,\n        CL: 56,\n        CN: 86,\n        CX: 61,\n        CC: 61,\n        CO: 57,\n        KM: 269,\n        CK: 682,\n        CR: 506,\n        HR: 385,\n        CU: 53,\n        CW: 599,\n        CY: 357,\n        CZ: 420,\n        CD: 243,\n        DK: 45,\n        DJ: 253,\n        DM: 1767,\n        DO: 1809,\n        TL: 670,\n        EC: 593,\n        EG: 20,\n        SV: 503,\n        GQ: 240,\n        ER: 291,\n        EE: 372,\n        ET: 251,\n        FK: 500,\n        FO: 298,\n        FJ: 679,\n        FI: 358,\n        FR: 33,\n        PF: 689,\n        GA: 241,\n        GM: 220,\n        GE: 995,\n        DE: 49,\n        GH: 233,\n        GI: 350,\n        GR: 30,\n        GL: 299,\n        GD: 1473,\n        GU: 1671,\n        GT: 502,\n        GG: 441481,\n        GN: 224,\n        GW: 245,\n        GY: 592,\n        HT: 509,\n        HN: 504,\n        HK: 852,\n        HU: 36,\n        IS: 354,\n        IN: 91,\n        ID: 62,\n        IR: 98,\n        IQ: 964,\n        IE: 353,\n        IM: 441624,\n        IL: 972,\n        IT: 39,\n        CI: 225,\n        JM: 1876,\n        JP: 81,\n        JE: 441534,\n        JO: 962,\n        KE: 254,\n        KI: 686,\n        XK: 383,\n        KW: 965,\n        KG: 996,\n        LA: 856,\n        LV: 371,\n        LB: 961,\n        LS: 266,\n        LR: 231,\n        LY: 218,\n        LI: 423,\n        LT: 370,\n        LU: 352,\n        MO: 853,\n        MK: 389,\n        MG: 261,\n        MW: 265,\n        MY: 60,\n        MV: 960,\n        ML: 223,\n        MT: 356,\n        MH: 692,\n        MR: 222,\n        MU: 230,\n        YT: 262,\n        MX: 52,\n        FM: 691,\n        MD: 373,\n        MC: 377,\n        MN: 976,\n        ME: 382,\n        MS: 1664,\n        MA: 212,\n        MZ: 258,\n        MM: 95,\n        NA: 264,\n        NR: 674,\n        NP: 977,\n        NL: 31,\n        AN: 599,\n        NC: 687,\n        NZ: 64,\n        NI: 505,\n        NE: 227,\n        NG: 234,\n        NU: 683,\n        KP: 850,\n        MP: 1670,\n        NO: 47,\n        OM: 968,\n        PK: 92,\n        PW: 680,\n        PS: 970,\n        PA: 507,\n        PG: 675,\n        PY: 595,\n        PE: 51,\n        PH: 63,\n        PN: 64,\n        PL: 48,\n        PT: 351,\n        PR: 1787,\n        QA: 974,\n        CG: 242,\n        RE: 262,\n        RO: 40,\n        RU: 7,\n        KZ: 7,\n        RW: 250,\n        BL: 590,\n        SH: 290,\n        KN: 1869,\n        LC: 1758,\n        MF: 590,\n        PM: 508,\n        VC: 1784,\n        WS: 685,\n        SM: 378,\n        ST: 239,\n        SA: 966,\n        SN: 221,\n        RS: 381,\n        SC: 248,\n        SL: 232,\n        SG: 65,\n        SX: 1721,\n        SK: 421,\n        SI: 386,\n        SB: 677,\n        SO: 252,\n        ZA: 27,\n        KR: 82,\n        SS: 211,\n        ES: 34,\n        LK: 94,\n        SD: 249,\n        SR: 597,\n        SJ: 47,\n        SZ: 268,\n        SE: 46,\n        CH: 41,\n        SY: 963,\n        TW: 886,\n        TJ: 992,\n        TZ: 255,\n        TH: 66,\n        TG: 228,\n        TK: 690,\n        TO: 676,\n        TT: 1868,\n        TN: 216,\n        TR: 90,\n        TM: 993,\n        TC: 1649,\n        TV: 688,\n        VI: 1340,\n        UG: 256,\n        UA: 380,\n        AE: 971,\n        GB: 44,\n        UY: 598,\n        UZ: 998,\n        VU: 678,\n        VA: 379,\n        VE: 58,\n        VN: 84,\n        WF: 681,\n        EH: 212,\n        YE: 967,\n        ZM: 260,\n        ZW: 263\n    },\n    COUNTRY_DATA = {\n        en: buildCountryList(COUNTRY_NAMES_EN),\n        ru: buildCountryList(COUNTRY_NAMES_RU)\n    };\n\nfunction buildCountryList(names) {\n    return Object.keys(names)\n        .map(code => {\n            return { code, codeLC: code.toLowerCase(), name: names[code], phone_code: PHONE_CODES[code] };\n        })\n        .sort((a, b) => a.name.localeCompare(b.name));\n}\n\nfunction getCountryList(lang) {\n    return COUNTRY_DATA[lang];\n}\n\nfunction getPhoneCodeFromLib(countryCode) {\n    try {\n        return getPhoneCode(countryCode);\n    } catch {}\n}\n\nfunction getCountryPhoneData(countryCode) {\n    const _phoneCode = PHONE_CODES[countryCode],\n        phoneCode = '' + _phoneCode,\n        phoneCodeLib = getPhoneCodeFromLib(countryCode) || '';\n\n    return { phoneCode: phoneCode.substr(0, phoneCodeLib.length), phoneNumber: phoneCode.substr(phoneCodeLib.length) };\n}\n\nfunction lookupCountryByPhone(code, number) {\n    const phoneNumber = code + number,\n        countries = Object.keys(PHONE_CODES)\n            .filter(c => {\n                const _code = '' + PHONE_CODES[c],\n                    len = _code.length;\n\n                return (len < 4 ? code.startsWith(_code) : _code.startsWith(code)) && phoneNumber.startsWith(_code);\n            })\n            .sort((a, b) => PHONE_CODES[b] - PHONE_CODES[a]);\n\n    return countries.length ? countries[0] : '';\n}\n\nfunction getDefaultCountryCode() {\n    const lang = window.navigator.language,\n        [langCode, countryCode] = lang.split('-'),\n        code = (countryCode || langCode).toUpperCase(),\n        exists = Boolean(COUNTRY_NAMES_EN[code]);\n\n    return exists ? code : 'US';\n}\n\nexport { getCountryList, getDefaultCountryCode, getCountryPhoneData, lookupCountryByPhone };\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport { withTranslation } from 'react-i18next';\nimport { compose } from 'recompose';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport { formatPhoneNumberSimple } from '../../Utils/Common';\nimport { getCountryList, getDefaultCountryCode, getCountryPhoneData, lookupCountryByPhone } from '../../Utils/Country';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport Link from '@material-ui/core/Link';\nimport Typography from '@material-ui/core/Typography';\nimport OptionStore from '../../Stores/OptionStore';\nimport LocalizationStore from '../../Stores/LocalizationStore';\nimport { formatIncompletePhoneNumber, parsePhoneNumberFromString } from 'libphonenumber-js';\nimport TdLibController from '../../Controllers/TdLibController';\nimport './SignInControl.css';\n\nconst styles = {\n    button: {\n        margin: '16px 0 0 0'\n    },\n    continueAtLanguage: {\n        transform: 'translateY(100px)',\n        textAlign: 'center',\n        position: 'absolute',\n        left: 0,\n        right: 0,\n        bottom: 0\n    },\n    fldPhoneCode: {\n        fontWeight: 'bold',\n        width: 80\n    },\n    fldPhoneNumber: {\n        fontWeight: 'bold'\n    }\n};\n\nconst DEFAULT_COUNTRY_CODE = getDefaultCountryCode(),\n    PHONE_CODE_INPUT_PROPS = { maxLength: 4 };\n\nclass SignInControl extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.phoneFieldRef = React.createRef();\n\n        const parts = formatIncompletePhoneNumber('+' + this.props.phone).split(' '),\n            phoneCode = parts.shift().replace(/\\D/g, ''),\n            phoneNumber = parts.join(' ').replace(/\\D/g, ''),\n            phoneData = phoneNumber\n                ? { phoneCode, phoneNumber, countryCode: lookupCountryByPhone(phoneCode, phoneNumber) }\n                : {};\n\n        this.state = {\n            error: null,\n            loading: false,\n            phoneCode,\n            phoneNumber,\n            ...phoneData\n        };\n    }\n\n    async componentDidMount() {\n        this.onSuggestedLanguagePackId();\n\n        const result = await TdLibController.send({\n                '@type': 'getCountryCode'\n            }),\n            countryCode = result && result.text ? result.text : DEFAULT_COUNTRY_CODE,\n            phoneData = getCountryPhoneData(countryCode);\n\n        this.setState({ countryCode, ...phoneData });\n\n        OptionStore.on('updateOption', this.onUpdateOption);\n    }\n\n    componentWillUnmount() {\n        OptionStore.removeListener('updateOption', this.onUpdateOption);\n    }\n\n    onUpdateOption = update => {\n        const { name } = update;\n\n        if (name === 'suggested_language_pack_id') {\n            this.onSuggestedLanguagePackId();\n        }\n    };\n\n    onSuggestedLanguagePackId = () => {\n        const { i18n } = this.props;\n        if (!i18n) return;\n\n        const languagePackId = OptionStore.get('suggested_language_pack_id');\n        if (!languagePackId) return;\n\n        const { value } = languagePackId;\n        if (value === i18n.language) {\n            this.setState({ suggestedLanguage: null });\n            return;\n        }\n\n        LocalizationStore.loadLanguage(value).then(() => {\n            this.setState({ suggestedLanguage: value });\n        });\n    };\n\n    onKeyPress = event => {\n        if (event.key === 'Enter') {\n            event.preventDefault();\n            this.onDone();\n        }\n    };\n\n    onDone = () => {\n        const { onPhoneEnter } = this.props,\n            { phoneCode, phoneNumber, countryCode } = this.state,\n            fullPhoneNumber = phoneCode + phoneNumber,\n            phoneData = parsePhoneNumberFromString('+' + fullPhoneNumber, countryCode);\n\n        if (!phoneData || !phoneData.isValid()) {\n            this.setState({ error: { code: 'InvalidPhoneNumber' } });\n            return;\n        }\n\n        onPhoneEnter(fullPhoneNumber);\n\n        this.setState({ error: null, loading: true });\n        TdLibController.send({\n            '@type': 'setAuthenticationPhoneNumber',\n            phone_number: fullPhoneNumber\n        })\n            .then(result => {})\n            .catch(error => {\n                let errorString = null;\n                if (error && error['@type'] === 'error' && error.message) {\n                    errorString = error.message;\n                } else {\n                    errorString = JSON.stringify(error);\n                }\n\n                this.setState({ error: { string: errorString } });\n            })\n            .finally(() => {\n                this.setState({ loading: false });\n            });\n    };\n\n    onChangeLanguage = () => {\n        const { i18n } = this.props,\n            { suggestedLanguage } = this.state;\n\n        if (!i18n || !suggestedLanguage) return;\n\n        this.setState({ suggestedLanguage: i18n.language });\n\n        TdLibController.clientUpdate({ '@type': 'clientUpdateLanguageChange', language: suggestedLanguage });\n    };\n\n    focusPhoneNumber = () => {\n        setTimeout(() => {\n            const el = this.phoneFieldRef.current,\n                l = el.value.length;\n\n            el.focus();\n            el.setSelectionRange(l, l);\n        }, 50);\n    };\n\n    onCountryChange = event => {\n        const countryCode = event.target.value,\n            { phoneCode, phoneNumber } = getCountryPhoneData(countryCode);\n\n        this.setState({ countryCode, phoneCode, phoneNumber });\n        this.focusPhoneNumber();\n    };\n\n    onCodeChange = event => {\n        const phoneCode = event.target.value.replace(/\\D/g, ''),\n            { phoneNumber } = this.state,\n            currentPhoneData = getCountryPhoneData(this.state.countryCode),\n            countryCode = phoneCode ? lookupCountryByPhone(phoneCode, phoneNumber) : '';\n\n        if (currentPhoneData.phoneCode && phoneCode.length > currentPhoneData.phoneCode.length) {\n            this.setState({ phoneNumber: phoneCode.substr(currentPhoneData.phoneCode.length) });\n            this.focusPhoneNumber();\n            return;\n        }\n\n        this.setState({ phoneCode, countryCode });\n    };\n\n    onPhoneNumberChange = event => {\n        const phoneNumber = event.target.value.replace(/\\D/g, '');\n\n        this.setState({ phoneNumber });\n    };\n\n    renderCountries = lang => {\n        const { i18n, t } = this.props;\n\n        if (!i18n) return null;\n\n        const placeholder = (\n                <MenuItem key='placeholder' disabled value='000'>\n                    <em>{t('Country')}</em>\n                </MenuItem>\n            ),\n            countries = [\n                placeholder,\n                ...getCountryList(i18n.language).map((country, i) => {\n                    return (\n                        <MenuItem key={i} color='primary' value={country.code}>\n                            <span className={`flag-icon flag-icon-${country.codeLC}`} />\n                            {country.name}\n                        </MenuItem>\n                    );\n                })\n            ];\n\n        return countries;\n    };\n\n    render() {\n        const { classes, t } = this.props;\n        const { loading, error, suggestedLanguage, countryCode, phoneCode, phoneNumber } = this.state,\n            phoneNumberStr = formatPhoneNumberSimple(phoneCode, phoneNumber, countryCode);\n\n        let errorString = '';\n        if (error) {\n            const { code, string } = error;\n            if (code) {\n                errorString = t(code);\n            } else {\n                errorString = string;\n            }\n        }\n\n        return (\n            <FormControl fullWidth>\n                <div className='authorization-header'>\n                    <span className='authorization-header-content'>{t('YourPhone')}</span>\n                </div>\n                <div>{t('StartText')}</div>\n                <div className='sign-in-country-container'>\n                    <Select\n                        color='primary'\n                        className='sign-in-country'\n                        value={countryCode || '000'}\n                        disabled={loading}\n                        input={<OutlinedInput labelWidth={0} />}\n                        onChange={this.onCountryChange}>\n                        {this.renderCountries()}\n                    </Select>\n                </div>\n                <div className='sign-in-phone-container'>\n                    <TextField\n                        className={classes.fldPhoneCode}\n                        color='primary'\n                        disabled={loading}\n                        error={Boolean(errorString)}\n                        id='phoneCode'\n                        label=''\n                        size={2}\n                        margin='normal'\n                        onChange={this.onCodeChange}\n                        onKeyPress={this.onKeyPress}\n                        value={`+${phoneCode}`}\n                        inputProps={PHONE_CODE_INPUT_PROPS}\n                    />\n                    <TextField\n                        inputRef={this.phoneFieldRef}\n                        className={classes.fldPhoneNumber}\n                        color='primary'\n                        disabled={loading}\n                        error={Boolean(errorString)}\n                        fullWidth\n                        autoFocus\n                        id='phoneNumber'\n                        label=''\n                        margin='normal'\n                        onChange={this.onPhoneNumberChange}\n                        onKeyPress={this.onKeyPress}\n                        value={phoneNumberStr}\n                    />\n                </div>\n                <FormHelperText id='sign-in-error-text'>{errorString}</FormHelperText>\n                <div className='sign-in-actions'>\n                    <Button\n                        fullWidth\n                        color='primary'\n                        disabled={loading}\n                        className={classes.button}\n                        onClick={this.onDone}>\n                        {t('Next')}\n                    </Button>\n                    <Typography className={classes.continueAtLanguage}>\n                        <Link onClick={this.onChangeLanguage}>\n                            {Boolean(suggestedLanguage) ? t('ContinueOnThisLanguage', { lng: suggestedLanguage }) : ' '}\n                        </Link>\n                    </Typography>\n                </div>\n            </FormControl>\n        );\n    }\n}\n\nconst enhance = compose(\n    withTranslation(),\n    withStyles(styles, { withTheme: true })\n);\n\nexport default enhance(SignInControl);\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport './ConfirmCodeControl.css';\nimport FormControl from '@material-ui/core/FormControl';\nimport { formatPhoneNumber } from '../../Utils/Common';\nimport FormHelperText from '@material-ui/core/FormHelperText/FormHelperText';\nimport TdLibController from '../../Controllers/TdLibController';\n\nconst styles = {\n    buttonLeft: {\n        marginRight: '8px',\n        marginTop: '16px'\n    },\n    buttonRight: {\n        marginLeft: '8px',\n        marginTop: '16px'\n    }\n};\n\nclass ConfirmCodeControl extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            error: '',\n            loading: false\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleNext = this.handleNext.bind(this);\n        this.handleBack = this.handleBack.bind(this);\n        this.handleDone = this.handleDone.bind(this);\n        this.handleKeyPress = this.handleKeyPress.bind(this);\n    }\n\n    handleNext() {\n        if (this.code && this.isValid(this.code)) {\n            this.setState({ error: '' });\n            this.handleDone();\n        } else {\n            this.setState({ error: 'Invalid code. Please try again.' });\n        }\n    }\n\n    handleDone() {\n        const code = this.code;\n\n        this.setState({ loading: true });\n        TdLibController.send({\n            '@type': 'checkAuthenticationCode',\n            code: code,\n            first_name: 'A',\n            last_name: 'B'\n        })\n            .then(result => {})\n            .catch(error => {\n                let errorString = null;\n                if (error && error['@type'] === 'error' && error.message) {\n                    errorString = error.message;\n                } else {\n                    errorString = JSON.stringify(error);\n                }\n\n                this.setState({ error: errorString });\n            })\n            .finally(() => {\n                this.setState({ loading: false });\n            });\n    }\n\n    handleBack() {\n        this.props.onBack();\n    }\n\n    isValid(code) {\n        let isBad = !code.match(/^[\\d\\-+\\s]+$/);\n        if (!isBad) {\n            code = code.replace(/\\D/g, '');\n            if (code.length !== 5) {\n                isBad = true;\n            }\n        }\n\n        return !isBad;\n    }\n\n    handleChange(e) {\n        this.code = e.target.value;\n\n        if (this.code && this.codeLength > 0 && this.code.length === this.codeLength) {\n            this.handleNext();\n        }\n    }\n\n    handleKeyPress(e) {\n        if (e.key === 'Enter') {\n            e.preventDefault();\n            this.handleNext();\n        }\n    }\n\n    getPhoneNumber(codeInfo) {\n        if (!codeInfo) return null;\n        return codeInfo.phone_number;\n    }\n\n    getCodeLength(codeInfo) {\n        if (!codeInfo) return 0;\n        if (!codeInfo.type) return 0;\n\n        switch (codeInfo.type['@type']) {\n            case 'authenticationCodeTypeCall': {\n                return codeInfo.type.length;\n            }\n            case 'authenticationCodeTypeFlashCall': {\n                return 0;\n            }\n            case 'authenticationCodeTypeSms': {\n                return codeInfo.type.length;\n            }\n            case 'authenticationCodeTypeTelegramMessage': {\n                return codeInfo.type.length;\n            }\n        }\n\n        return 0;\n    }\n\n    getSubtitle(codeInfo) {\n        if (!codeInfo) return 'Subtitle';\n        if (!codeInfo.type) return 'Subtitle';\n\n        switch (codeInfo.type['@type']) {\n            case 'authenticationCodeTypeCall': {\n                return 'Telegram dialed your number';\n            }\n            case 'authenticationCodeTypeFlashCall': {\n                return 'Telegram dialed your number';\n            }\n            case 'authenticationCodeTypeSms': {\n                return 'We have sent you a message with activation code to your phone. Please enter it below.';\n            }\n            case 'authenticationCodeTypeTelegramMessage': {\n                return \"Please enter the code you've just received in your previous Telegram app.\";\n            }\n        }\n\n        return 'Subtitle';\n    }\n\n    render() {\n        const { loading, error } = this.state;\n        const { classes, codeInfo } = this.props;\n\n        this.phoneNumber = this.getPhoneNumber(codeInfo);\n        this.codeLength = this.getCodeLength(codeInfo);\n        const subtitle = this.getSubtitle(codeInfo);\n\n        const title = this.phoneNumber ? formatPhoneNumber(this.phoneNumber) : 'Your Code';\n\n        return (\n            <FormControl fullWidth>\n                <div className='authorization-header'>\n                    <span className='authorization-header-content'>{title}</span>\n                </div>\n                <div>{subtitle}</div>\n                <TextField\n                    color='primary'\n                    disabled={loading}\n                    error={Boolean(error)}\n                    fullWidth\n                    autoFocus\n                    label='Your code'\n                    margin='normal'\n                    maxLength={this.codeLength > 0 ? this.codeLength : 256}\n                    onChange={this.handleChange}\n                    onKeyPress={this.handleKeyPress}\n                />\n                <FormHelperText id='confirm-code-error-text'>{error}</FormHelperText>\n                <div className='authorization-actions'>\n                    <Button fullWidth className={classes.buttonLeft} onClick={this.handleBack} disabled={loading}>\n                        Back\n                    </Button>\n                    <Button\n                        fullWidth\n                        color='primary'\n                        className={classes.buttonRight}\n                        onClick={this.handleNext}\n                        disabled={loading}>\n                        Next\n                    </Button>\n                </div>\n            </FormControl>\n        );\n    }\n}\n\nexport default withStyles(styles)(ConfirmCodeControl);\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport classNames from 'classnames';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport IconButton from '@material-ui/core/IconButton';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Input from '@material-ui/core/Input';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport Button from '@material-ui/core/Button';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport TdLibController from '../../Controllers/TdLibController';\nimport './PasswordControl.css';\n\nconst styles = theme => ({\n    root: {\n        display: 'flex',\n        flexWrap: 'wrap'\n    },\n    margin: {\n        margin: '16px 0 8px 0'\n    },\n    withoutLabel: {\n        marginTop: theme.spacing.unit * 3\n    },\n    textField: {\n        flexBasis: 200\n    },\n    buttonLeft: {\n        marginRight: '8px',\n        marginTop: '16px'\n    },\n    buttonRight: {\n        marginLeft: '8px',\n        marginTop: '16px'\n    }\n});\n\nclass PasswordControl extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            password: '',\n            showPassword: false,\n            error: ''\n        };\n\n        this.handleClickShowPassword = this.handleClickShowPassword.bind(this);\n        this.handleMouseDownPassword = this.handleMouseDownPassword.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleKeyPress = this.handleKeyPress.bind(this);\n        this.handleBack = this.handleBack.bind(this);\n        this.handleNext = this.handleNext.bind(this);\n        this.handleDone = this.handleDone.bind(this);\n    }\n\n    handleNext() {\n        if (this.password) {\n            this.setState({ error: '' });\n            this.handleDone();\n        } else {\n            this.setState({ error: 'Invalid password. Please try again.' });\n        }\n    }\n\n    handleBack() {\n        this.props.onChangePhone();\n    }\n\n    handleDone() {\n        const password = this.password;\n\n        this.setState({ loading: true });\n        TdLibController.send({\n            '@type': 'checkAuthenticationPassword',\n            password: password\n        })\n            .then(result => {})\n            .catch(error => {\n                let errorString = null;\n                if (error && error['@type'] === 'error' && error.message) {\n                    errorString = error.message;\n                } else {\n                    errorString = JSON.stringify(error);\n                }\n\n                this.setState({ error: errorString });\n            })\n            .finally(() => {\n                this.setState({ loading: false });\n            });\n    }\n\n    handleMouseDownPassword = event => {\n        event.preventDefault();\n    };\n\n    handleClickShowPassword = () => {\n        this.setState({ showPassword: !this.state.showPassword });\n    };\n\n    handleChange(e) {\n        this.password = e.target.value;\n    }\n\n    handleKeyPress(e) {\n        if (e.key === 'Enter') {\n            e.preventDefault();\n            this.handleNext();\n        }\n    }\n\n    render() {\n        const { loading, error, showPassword } = this.state;\n        const { passwordHint, classes } = this.props;\n\n        return (\n            <div>\n                <div className='authorization-header'>\n                    <span className='authorization-header-content'>Cloud Password Check</span>\n                </div>\n                <div>Please enter your cloud password.</div>\n                <FormControl fullWidth className={classNames(classes.margin, classes.textField)}>\n                    <InputLabel htmlFor='adornment-password' error={error}>\n                        Your cloud password\n                    </InputLabel>\n                    <Input\n                        fullWidth\n                        autoFocus\n                        id='adornment-password'\n                        type={showPassword ? 'text' : 'password'}\n                        disabled={loading}\n                        error={Boolean(error)}\n                        onChange={this.handleChange}\n                        onKeyPress={this.handleKeyPress}\n                        endAdornment={\n                            <InputAdornment position='end'>\n                                <IconButton\n                                    aria-label='Toggle password visibility'\n                                    onClick={this.handleClickShowPassword}\n                                    onMouseDown={this.handleMouseDownPassword}>\n                                    {showPassword ? <VisibilityOff /> : <Visibility />}\n                                </IconButton>\n                            </InputAdornment>\n                        }\n                    />\n                </FormControl>\n                {passwordHint && (\n                    <FormHelperText id='password-hint-text'>\n                        <span className='password-hint-label'>Hint: </span>\n                        {passwordHint}\n                    </FormHelperText>\n                )}\n                <FormHelperText id='password-error-text'>{error}</FormHelperText>\n                <div className='authorization-actions'>\n                    <Button fullWidth className={classes.buttonLeft} onClick={this.handleBack} disabled={loading}>\n                        Back\n                    </Button>\n                    <Button\n                        fullWidth\n                        color='primary'\n                        className={classes.buttonRight}\n                        onClick={this.handleNext}\n                        disabled={loading}>\n                        Next\n                    </Button>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default withStyles(styles)(PasswordControl);\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport TdLibController from '../../Controllers/TdLibController';\n\nclass AuthErrorDialog extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            open: false,\n            error: null\n        };\n\n        this.handleAuthError = this.handleAuthError.bind(this);\n        this.handleClose = this.handleClose.bind(this);\n        this.handleKeyDown = this.handleKeyDown.bind(this);\n    }\n\n    componentDidMount() {\n        TdLibController.on('tdlib_auth_error', this.handleAuthError);\n    }\n\n    componentWillUnmount() {\n        TdLibController.removeListener('tdlib_auth_error', this.handleAuthError);\n    }\n\n    handleAuthError(error) {\n        this.setState({\n            open: true,\n            error: error\n        });\n    }\n\n    handleClose() {\n        this.setState({\n            open: false\n        });\n    }\n\n    handleKeyDown(e) {\n        if (e.key === 'Enter') {\n            e.preventDefault();\n            this.handleClose();\n        }\n    }\n\n    render() {\n        let errorString = null;\n        if (this.state.error && this.state.error['@type'] === 'error' && this.state.error.message) {\n            errorString = this.state.error.message;\n        } else {\n            errorString = JSON.stringify(this.state.error);\n        }\n\n        return (\n            <Dialog\n                transitionDuration={0}\n                open={this.state.open}\n                onKeyDown={this.handleKeyDown}\n                onClose={this.handleClose}\n                aria-labelledby='form-dialog-title'>\n                <DialogTitle id='form-dialog-title'>Error</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>{errorString}</DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={this.handleClose} color='primary'>\n                        Ok\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nexport default AuthErrorDialog;\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport classNames from 'classnames';\nimport SignInControl from './SignInControl';\nimport ConfirmCodeControl from './ConfirmCodeControl';\nimport PasswordControl from './PasswordControl';\nimport AuthErrorDialog from './AuthErrorDialog';\nimport './AuthFormControl.css';\n\nconst styles = theme => ({\n    button: {\n        margin: '20px'\n    },\n    authorizationFormContent: {\n        background: theme.palette.background.default,\n        color: theme.palette.text.primary\n    }\n});\n\nclass AuthFormControl extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.phone = null;\n\n        this.handlePhoneEnter = this.handlePhoneEnter.bind(this);\n    }\n\n    handlePhoneEnter(phone) {\n        this.phone = phone;\n    }\n\n    render() {\n        const { classes, authorizationState } = this.props;\n\n        let control = null;\n        switch (authorizationState['@type']) {\n            case 'authorizationStateWaitPhoneNumber':\n                // control = (\n                //     <>\n                //         <SignInControl phone={this.phone} onPhoneEnter={this.handlePhoneEnter}/>\n                //         <ConfirmCodeControl phone={this.phone} onCodeEnter={this.handleCodeEnter} onChangePhone={this.handleChangePhone}/>\n                //         <PasswordControl passwordHint='hint' onPasswordEnter={this.handlePasswordEnter} onChangePhone={this.handleChangePhone}/>\n                //         <SignUpControl/>\n                //     </>);\n                control = <SignInControl phone={this.phone} onPhoneEnter={this.handlePhoneEnter} />;\n                break;\n            case 'authorizationStateWaitCode':\n                control = (\n                    <ConfirmCodeControl\n                        termsOfService={authorizationState.terms_of_service}\n                        codeInfo={authorizationState.code_info}\n                        onBack={this.props.onChangePhone}\n                    />\n                );\n                break;\n            case 'authorizationStateWaitPassword':\n                control = (\n                    <PasswordControl\n                        passwordHint={authorizationState.password_hint}\n                        hasRecoveryEmailAddress={authorizationState.has_recovery_email_address}\n                        recoveryEmailAddressPattern={authorizationState.recovery_email_address_pattern}\n                        onBack={this.props.onChangePhone}\n                    />\n                );\n                break;\n            default:\n                break;\n        }\n\n        return (\n            <div className='sign-in-wrap'>\n                <div className={classNames(classes.authorizationFormContent, 'authorization-form-content')}>\n                    {control}\n                </div>\n                <AuthErrorDialog />\n            </div>\n        );\n    }\n}\nexport default withStyles(styles)(AuthFormControl);\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport Button from '@material-ui/core/Button/Button';\nimport './AppInactiveControl.css';\n\nclass AppInactiveControl extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    static handleReload() {\n        window.location.reload();\n    }\n\n    render() {\n        return (\n            <div className='app-inactive'>\n                <div className='app-inactive-wrapper'>\n                    <a className='app-inactive-image' onClick={AppInactiveControl.handleReload} />\n                    <h3 className='app-inactive-title'>Such error, many tabs</h3>\n                    <div className='app-inactive-description'>\n                        Telegram supports only one active tab with the app.\n                        <br />\n                        Please reload this page to continue using this tab or close it.\n                    </div>\n                    <div className='app-inactive-actions'>\n                        <Button color='primary' onClick={AppInactiveControl.handleReload}>\n                            Reload app\n                        </Button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default AppInactiveControl;\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport AppInactiveControl from './Additional/AppInactiveControl';\nimport Footer from './Footer';\n\nconst styles = theme => ({\n    page: {\n        background: theme.palette.type === 'dark' ? theme.palette.background.default : '#FFFFFF',\n        color: theme.palette.text.primary\n    }\n});\n\nclass InactivePage extends React.Component {\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <>\n                <div className='header-wrapper' />\n                <div className={classNames(classes.page, 'page')}>\n                    <AppInactiveControl />\n                </div>\n                <Footer />\n            </>\n        );\n    }\n}\n\nInactivePage.propTypes = {};\n\nexport default withStyles(styles)(InactivePage);\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { compose } from 'recompose';\nimport { withTranslation } from 'react-i18next';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { borderStyle } from './Theme';\nimport Footer from './Footer';\nimport './ColumnMiddle/Header.css';\nimport './ColumnLeft/Dialogs.css';\nimport './ColumnMiddle/DialogDetails.css';\nimport '../TelegramApp.css';\n\nconst styles = theme => ({\n    page: {\n        background: theme.palette.type === 'dark' ? theme.palette.background.default : '#FFFFFF',\n        color: theme.palette.text.primary\n    },\n    menuIconButton: {\n        margin: '8px -2px 8px 12px'\n    },\n    headerIconButton: {\n        margin: '8px 12px 8px 0'\n    },\n    background: {\n        background: theme.palette.type === 'dark' ? theme.palette.grey[900] : 'transparent',\n        flex: '1 1 auto'\n    },\n    ...borderStyle(theme)\n});\n\nclass StubPage extends React.Component {\n    render() {\n        const { classes, title, t } = this.props;\n        const isChatDetailsVisible = false;\n\n        return (\n            <>\n                <div className={classNames(classes.page, 'page', { 'page-third-column': isChatDetailsVisible })}>\n                    <div\n                        className={classNames(classes.borderColor, 'dialogs', {\n                            'dialogs-third-column': isChatDetailsVisible\n                        })}>\n                        <div className='header-master'>\n                            <IconButton className={classes.menuIconButton} aria-label='Menu'>\n                                <MenuIcon />\n                            </IconButton>\n                            <div className='header-status grow cursor-pointer'>\n                                <span className='header-status-content'>{t('AppName')}</span>\n                            </div>\n                            <IconButton className={classes.headerIconButton} aria-label={t('Search')}>\n                                <SearchIcon />\n                            </IconButton>\n                        </div>\n                    </div>\n                    <div\n                        className={classNames('dialog-details', {\n                            'dialog-details-third-column': isChatDetailsVisible\n                        })}>\n                        <div className={classNames(classes.borderColor, 'header-details')}>\n                            <div className={classNames('header-status', 'grow', 'cursor-default')}>\n                                <span className='header-status-content'>{title}</span>\n                                {Boolean(title) && (\n                                    <>\n                                        <span className='header-progress'>.</span>\n                                        <span className='header-progress'>.</span>\n                                        <span className='header-progress'>.</span>\n                                    </>\n                                )}\n                            </div>\n                        </div>\n                        <div className={classes.background} />\n                    </div>\n                </div>\n                <Footer />\n            </>\n        );\n    }\n}\n\nStubPage.propTypes = {\n    title: PropTypes.string\n};\n\nconst enhance = compose(\n    withStyles(styles),\n    withTranslation()\n);\n\nexport default enhance(StubPage);\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { Component } from 'react';\nimport Cookies from 'universal-cookie';\nimport { compose } from 'recompose';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport { withTranslation } from 'react-i18next';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport packageJson from '../package.json';\nimport withLanguage from './Language';\nimport withTheme from './Theme';\nimport AuthFormControl from './Components/Auth/AuthFormControl';\nimport InactivePage from './Components/InactivePage';\nimport StubPage from './Components/StubPage';\nimport registerServiceWorker from './registerServiceWorker';\nimport { OPTIMIZATIONS_FIRST_START } from './Constants';\nimport ChatStore from './Stores/ChatStore';\nimport UserStore from './Stores/UserStore';\nimport ApplicationStore from './Stores/ApplicationStore';\nimport TdLibController from './Controllers/TdLibController';\nimport './TelegramApp.css';\n\nconst MainPage = React.lazy(() => import('./Components/MainPage'));\n\nconst styles = theme => ({\n    '@global': {\n        a: {\n            color: theme.palette.primary.main\n        },\n        code: {\n            color: theme.palette.primary.dark\n        }\n    }\n});\n\nclass TelegramApp extends Component {\n    constructor(props) {\n        super(props);\n\n        console.log(`Start Telegram Web ${packageJson.version}`);\n\n        this.state = {\n            authorizationState: null,\n            inactive: false,\n            fatalError: false\n        };\n    }\n\n    componentWillMount() {\n        const { location } = this.props;\n\n        TdLibController.init(location);\n    }\n\n    componentDidMount() {\n        TdLibController.addListener('update', this.onUpdate);\n\n        ApplicationStore.on('updateAuthorizationState', this.onUpdateAuthorizationState);\n        ApplicationStore.on('clientUpdateAppInactive', this.onClientUpdateAppInactive);\n        ApplicationStore.on('updateFatalError', this.onUpdateFatalError);\n    }\n\n    componentWillUnmount() {\n        TdLibController.removeListener('update', this.onUpdate);\n\n        ApplicationStore.removeListener('updateAuthorizationState', this.onUpdateAuthorizationState);\n        ApplicationStore.removeListener('clientUpdateAppInactive', this.onClientUpdateAppInactive);\n        ApplicationStore.removeListener('updateFatalError', this.onUpdateFatalError);\n    }\n\n    onUpdate = update => {\n        if (OPTIMIZATIONS_FIRST_START) {\n            if (!this.checkServiceWorker) {\n                this.checkServiceWorker = true;\n\n                const cookieEnabled = navigator.cookieEnabled;\n                if (cookieEnabled) {\n                    const cookies = new Cookies();\n                    const register = cookies.get('register');\n                    if (!register) {\n                        registerServiceWorker();\n                    }\n                }\n            }\n        }\n    };\n\n    onUpdateFatalError = update => {\n        this.setState({ fatalError: true });\n    };\n\n    onUpdateAuthorizationState = update => {\n        const { authorization_state } = update;\n\n        this.setState({ authorizationState: authorization_state });\n\n        if (!window.hasFocus) return;\n        if (!authorization_state) return;\n        if (authorization_state['@type'] !== 'authorizationStateReady') return;\n\n        TdLibController.send({\n            '@type': 'setOption',\n            name: 'online',\n            value: { '@type': 'optionValueBoolean', value: true }\n        });\n    };\n\n    onClientUpdateAppInactive = update => {\n        this.setState({ inactive: true });\n    };\n\n    handleChangePhone = () => {\n        this.setState({\n            authorizationState: { '@type': 'authorizationStateWaitPhoneNumber' }\n        });\n    };\n\n    handleDragOver = event => {\n        event.preventDefault();\n        event.stopPropagation();\n    };\n\n    handleDrop = event => {\n        event.preventDefault();\n        event.stopPropagation();\n    };\n\n    handleRefresh = () => {\n        this.setState({ fatalError: false });\n        window.location.reload();\n    };\n\n    handleDestroy = () => {\n        this.setState({ fatalError: false });\n        TdLibController.send({ '@type': 'destroy' });\n    };\n\n    handleKeyDown = event => {\n        //console.log('KeyDown', event);\n    };\n\n    render() {\n        const { t } = this.props;\n        const { inactive, authorizationState, fatalError } = this.state;\n\n        const loading = t('Loading').replace('...', '');\n        let page = <StubPage title={loading} />;\n\n        if (inactive) {\n            page = <InactivePage />;\n        } else if (authorizationState) {\n            switch (authorizationState['@type']) {\n                case 'authorizationStateClosed':\n                case 'authorizationStateClosing':\n                case 'authorizationStateLoggingOut':\n                case 'authorizationStateReady': {\n                    page = (\n                        <React.Suspense fallback={<StubPage title='' />}>\n                            <MainPage />\n                        </React.Suspense>\n                    );\n                    break;\n                }\n                case 'authorizationStateWaitCode':\n                case 'authorizationStateWaitPassword':\n                case 'authorizationStateWaitPhoneNumber':\n                    page = (\n                        <AuthFormControl\n                            authorizationState={authorizationState}\n                            onChangePhone={this.handleChangePhone}\n                        />\n                    );\n                    break;\n                case 'authorizationStateWaitEncryptionKey': {\n                    break;\n                }\n                case 'authorizationStateWaitTdlibParameters': {\n                    break;\n                }\n            }\n        }\n\n        return (\n            <div id='app' onDragOver={this.handleDragOver} onDrop={this.handleDrop} onKeyDown={this.handleKeyDown}>\n                {page}\n                <Dialog\n                    transitionDuration={0}\n                    open={fatalError}\n                    onClose={this.handleRefresh}\n                    aria-labelledby='fatal-error-dialog-title'\n                    aria-describedby='fatal-error-dialog-description'>\n                    <DialogTitle id='fatal-error-dialog-title'>Telegram</DialogTitle>\n                    <DialogContent>\n                        <DialogContentText id='fatal-error-dialog-description'>\n                            Oops! Something went wrong. We need to refresh this page.\n                        </DialogContentText>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleDestroy} color='primary'>\n                            Log out\n                        </Button>\n                        <Button onClick={this.handleRefresh} color='primary' autoFocus>\n                            Refresh\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            </div>\n        );\n    }\n}\n\nconst keyMap = new Map();\nwindow.keyMap = keyMap;\n\nasync function openPinnedChat(index) {\n    const chats = await TdLibController.send({\n        '@type': 'getChats',\n        offset_order: '9223372036854775807',\n        offset_chat_id: 0,\n        limit: 10\n    });\n\n    if (chats) {\n        let pinnedIndex = -1;\n        for (let i = 0; i < chats.chat_ids.length; i++) {\n            const chat = ChatStore.get(chats.chat_ids[i]);\n            if (chat && chat.is_pinned) {\n                pinnedIndex++;\n            }\n\n            if (pinnedIndex === index) {\n                TdLibController.setChatId(chat.id);\n                return;\n            }\n        }\n    }\n}\n\ndocument.addEventListener('keyup', event => {\n    keyMap.delete(event.key);\n    //console.log('keyup key=' + event.key, keyMap);\n});\n\ndocument.addEventListener('keydown', async event => {\n    keyMap.set(event.key, event.key);\n    //console.log('keydown key=' + event.key, event.altKey, event.ctrlKey, event, keyMap);\n\n    const { authorizationState } = ApplicationStore;\n    if (!authorizationState) return;\n    if (authorizationState['@type'] !== 'authorizationStateReady') return;\n    if (keyMap.size > 3) return;\n\n    if (event.altKey && event.ctrlKey) {\n        switch (event.key) {\n            case '0': {\n                event.preventDefault();\n                event.stopPropagation();\n\n                const chat = await TdLibController.send({\n                    '@type': 'createPrivateChat',\n                    user_id: UserStore.getMyId(),\n                    force: true\n                });\n\n                if (chat) {\n                    TdLibController.setChatId(chat.id);\n                }\n                break;\n            }\n            case '1': {\n                event.preventDefault();\n                event.stopPropagation();\n\n                openPinnedChat(0);\n                break;\n            }\n            case '2': {\n                event.preventDefault();\n                event.stopPropagation();\n\n                openPinnedChat(1);\n                break;\n            }\n            case '3': {\n                event.preventDefault();\n                event.stopPropagation();\n\n                openPinnedChat(2);\n                break;\n            }\n            case '4': {\n                event.preventDefault();\n                event.stopPropagation();\n\n                openPinnedChat(3);\n                break;\n            }\n            case '5': {\n                event.preventDefault();\n                event.stopPropagation();\n\n                openPinnedChat(4);\n                break;\n            }\n        }\n    }\n});\n\nwindow.hasFocus = true;\n\n// set offline on page lost focus\nwindow.onblur = function() {\n    keyMap.clear();\n    //console.log('window.blur key', keyMap);\n\n    const { authorizationState } = ApplicationStore;\n\n    if (!authorizationState) return;\n    if (authorizationState['@type'] !== 'authorizationStateReady') return;\n\n    window.hasFocus = false;\n\n    TdLibController.clientUpdate({\n        '@type': 'clientUpdateFocusWindow',\n        focused: false\n    });\n};\n\n// set online on page get focus\nwindow.onfocus = function() {\n    keyMap.clear();\n    //console.log('window.focus key', keyMap);\n    const { authorizationState } = ApplicationStore;\n\n    if (!authorizationState) return;\n    if (authorizationState['@type'] !== 'authorizationStateReady') return;\n\n    window.hasFocus = true;\n\n    TdLibController.clientUpdate({\n        '@type': 'clientUpdateFocusWindow',\n        focused: true\n    });\n};\n\n// disable back navigation\nwindow.history.pushState(null, null, window.location.href);\nwindow.onpopstate = function() {\n    window.history.go(1);\n};\n\nconst enhance = compose(\n    withLanguage,\n    withTranslation(),\n    withTheme,\n    withStyles(styles)\n);\n\nexport default enhance(TelegramApp);\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport TelegramApp from './TelegramApp';\nimport registerServiceWorker from './registerServiceWorker';\nimport Cookies from 'universal-cookie';\nimport { OPTIMIZATIONS_FIRST_START } from './Constants';\nimport './index.css';\n\nReactDOM.render(\n    <Router>\n        <Route path='' component={TelegramApp} />\n    </Router>,\n    document.getElementById('root')\n);\n\nif (OPTIMIZATIONS_FIRST_START) {\n    const cookieEnabled = navigator.cookieEnabled;\n    if (cookieEnabled) {\n        const cookies = new Cookies();\n        const register = cookies.get('register');\n        if (register) {\n            registerServiceWorker();\n        }\n    } else {\n        registerServiceWorker();\n    }\n} else {\n    registerServiceWorker();\n}\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { EventEmitter } from 'events';\nimport TdLibController from '../Controllers/TdLibController';\n\nclass OptionStore extends EventEmitter {\n    constructor() {\n        super();\n\n        this.items = new Map();\n\n        this.addTdLibListener();\n        this.setMaxListeners(Infinity);\n    }\n\n    onUpdate = update => {\n        switch (update['@type']) {\n            case 'updateOption':\n                this.items.set(update.name, update.value);\n\n                this.emit('updateOption', update);\n                break;\n            default:\n                break;\n        }\n    };\n\n    onClientUpdate = update => {};\n\n    addTdLibListener = () => {\n        TdLibController.addListener('update', this.onUpdate);\n        TdLibController.addListener('clientUpdate', this.onClientUpdate);\n    };\n\n    removeTdLibListener = () => {\n        TdLibController.removeListener('update', this.onUpdate);\n        TdLibController.removeListener('clientUpdate', this.onClientUpdate);\n    };\n\n    get(name) {\n        return this.items.get(name);\n    }\n}\n\nconst store = new OptionStore();\nwindow.option = store;\nexport default store;\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { arrayBufferToBase64 } from './Utils/Common';\nimport Cookies from 'universal-cookie';\nimport { OPTIMIZATIONS_FIRST_START } from './Constants';\nimport ApplicationStore from './Stores/ApplicationStore';\nimport TdLibController from './Controllers/TdLibController';\n\n// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n        // [::1] is the IPv6 localhost address.\n        window.location.hostname === '[::1]' ||\n        // 127.0.0.1/8 is considered localhost for IPv4.\n        window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport default async function register() {\n    console.log('[SW] Register');\n\n    if (OPTIMIZATIONS_FIRST_START) {\n        const cookies = new Cookies();\n        cookies.set('register', true);\n    }\n\n    if ('serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n            return;\n        }\n\n        const serviceWorkerName =\n            process.env.NODE_ENV === 'production' ? 'service-worker.js' : 'custom-service-worker.js';\n        const swUrl = `${process.env.PUBLIC_URL}/${serviceWorkerName}`;\n        console.log(`[SW] Service worker url: ${swUrl}`);\n\n        if (!isLocalhost) {\n            // Is not local host. Just register service worker\n            await registerValidSW(swUrl);\n        } else {\n            // This is running on localhost. Lets check if a service worker still exists or not.\n            await checkValidServiceWorker(swUrl);\n        }\n    }\n}\n\nasync function registerValidSW(swUrl) {\n    console.log('[SW] RegisterValidSW');\n    try {\n        const registration = await navigator.serviceWorker.register(swUrl);\n        registration.onupdatefound = () => {\n            const installingWorker = registration.installing;\n            installingWorker.onstatechange = () => {\n                if (installingWorker.state === 'installed') {\n                    if (navigator.serviceWorker.controller) {\n                        // At this point, the old content will have been purged and\n                        // the fresh content will have been added to the cache.\n                        // It's the perfect time to display a \"New content is\n                        // available; please refresh.\" message in your web app.\n                        console.log('[SW] New content is available; please refresh.');\n\n                        ApplicationStore.emit('clientUpdateNewContentAvailable');\n                    } else {\n                        // At this point, everything has been precached.\n                        // It's the perfect time to display a\n                        // \"Content is cached for offline use.\" message.\n                        console.log('[SW] Content is cached for offline use.');\n                    }\n                }\n            };\n        };\n\n        await subscribeNotifications(registration);\n    } catch (error) {\n        console.error('[SW] Error during service worker registration: ', error);\n    }\n}\n\nasync function subscribeNotifications(registration) {\n    try {\n        let pushSubscription = await registration.pushManager.getSubscription();\n        if (pushSubscription) await pushSubscription.unsubscribe();\n\n        pushSubscription = await registration.pushManager.subscribe({ userVisibleOnly: true });\n        console.log('[SW] Received PushSubscription: ', JSON.stringify(pushSubscription));\n\n        const { endpoint } = pushSubscription;\n        const p256dh_base64url = arrayBufferToBase64(pushSubscription.getKey('p256dh'));\n        const auth_base64url = arrayBufferToBase64(pushSubscription.getKey('auth'));\n\n        if (endpoint && p256dh_base64url && auth_base64url) {\n            const { authorizationState } = ApplicationStore;\n            if (authorizationState && authorizationState['@type'] === 'authorizationStateReady') {\n                await TdLibController.send({\n                    '@type': 'registerDevice',\n                    device_token: {\n                        '@type': 'deviceTokenWebPush',\n                        endpoint: endpoint,\n                        p256dh_base64url: p256dh_base64url,\n                        auth_base64url: auth_base64url\n                    },\n                    other_user_ids: []\n                });\n            }\n        }\n    } catch (error) {\n        console.error('[SW] Error during service worker push subscription: ', error);\n    }\n}\n\nasync function checkValidServiceWorker(swUrl) {\n    console.log('[SW] CheckValidServiceWorker');\n    // Check if the service worker can be found. If it can't reload the page.\n    try {\n        const response = await fetch(swUrl);\n\n        // Ensure service worker exists, and that we really are getting a JS file.\n        if (response.status === 404 || response.headers.get('content-type').indexOf('javascript') === -1) {\n            // No service worker found. Probably a different app. Reload the page.\n            const registration = await navigator.serviceWorker.ready;\n            await registration.unregister();\n\n            window.location.reload();\n        } else {\n            // Service worker found. Proceed as normal.\n            await registerValidSW(swUrl);\n        }\n    } catch (error) {\n        console.log('[SW] No internet connection found. App is running in offline mode.');\n    }\n}\n\nexport async function unregister() {\n    if ('serviceWorker' in navigator) {\n        let registration = await navigator.serviceWorker.ready;\n\n        await registration.unregister();\n    }\n}\n\nexport async function update() {\n    if ('serviceWorker' in navigator) {\n        let registration = await navigator.serviceWorker.ready;\n\n        await registration.update();\n    }\n}\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { EventEmitter } from 'events';\nimport OptionStore from '../Stores/OptionStore';\nimport TdLibController from '../Controllers/TdLibController';\n\nclass UserStore extends EventEmitter {\n    constructor() {\n        super();\n\n        this.items = new Map();\n        this.fullInfoItems = new Map();\n\n        this.addTdLibListener();\n        this.setMaxListeners(Infinity);\n    }\n\n    onUpdate = update => {\n        switch (update['@type']) {\n            case 'updateUser': {\n                this.set(update.user);\n\n                this.emit(update['@type'], update);\n                break;\n            }\n            case 'updateUserFullInfo':\n                this.setFullInfo(update.user_id, update.user_full_info);\n\n                this.emit(update['@type'], update);\n                break;\n            case 'updateUserStatus': {\n                let user = this.get(update.user_id);\n                if (user) {\n                    this.assign(user, { status: update.status });\n                }\n\n                this.emit(update['@type'], update);\n                break;\n            }\n            default:\n                break;\n        }\n    };\n\n    onClientUpdate = update => {\n        switch (update['@type']) {\n            case 'clientUpdateOpenUser': {\n                this.emit(update['@type'], update);\n                break;\n            }\n            default:\n                break;\n        }\n    };\n\n    addTdLibListener = () => {\n        TdLibController.addListener('update', this.onUpdate);\n        TdLibController.addListener('clientUpdate', this.onClientUpdate);\n    };\n\n    removeTdLibListener = () => {\n        TdLibController.removeListener('update', this.onUpdate);\n        TdLibController.removeListener('clientUpdate', this.onClientUpdate);\n    };\n\n    assign(source1, source2) {\n        Object.assign(source1, source2);\n        //this.set(Object.assign({}, source1, source2));\n    }\n\n    getMyId() {\n        const myId = OptionStore.get('my_id');\n        if (!myId) return null;\n        if (!myId.value) return null;\n\n        return myId.value;\n    }\n\n    get(userId) {\n        return this.items.get(userId);\n    }\n\n    set(user) {\n        this.items.set(user.id, user);\n    }\n\n    getFullInfo(id) {\n        return this.fullInfoItems.get(id);\n    }\n\n    setFullInfo(id, fullInfo) {\n        this.fullInfoItems.set(id, fullInfo);\n    }\n}\n\nconst store = new UserStore();\nwindow.user = store;\nexport default store;\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\n\nexport function withSaveRef() {\n    return Component => {\n        return React.forwardRef((props, ref) => <Component {...props} forwardedRef={ref} />);\n    };\n}\n\nexport function withRestoreRef() {\n    return Component => {\n        return class extends React.Component {\n            render() {\n                const { forwardedRef, ...rest } = this.props;\n\n                return <Component {...rest} ref={forwardedRef} />;\n            }\n        };\n    };\n}\n\nexport function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { EventEmitter } from 'events';\nimport Cookies from 'universal-cookie';\nimport i18n from 'i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport LocalStorageBackend from 'i18next-localstorage-backend';\nimport { initReactI18next } from 'react-i18next';\nimport TdLibController from '../Controllers/TdLibController';\n\nconst defaultLanguage = 'en';\nconst defaultNamespace = 'translation';\nconst cookies = new Cookies();\nconst language = cookies.get('i18next') || defaultLanguage;\n\n// const detection = {\n//     // order and from where user language should be detected\n//     order: ['querystring', 'cookie', 'localStorage', 'navigator', 'htmlTag', 'path', 'subdomain'],\n//\n//     // keys or params to lookup language from\n//     lookupQuerystring: 'lng',\n//     lookupCookie: 'i18next',\n//     lookupLocalStorage: 'i18nextLng',\n//     lookupFromPathIndex: 0,\n//     lookupFromSubdomainIndex: 0,\n//\n//     // cache user language on\n//     caches: ['localStorage', 'cookie']\n// };\n\ni18n.use(initReactI18next) //.use(LanguageDetector) // passes i18n down to react-i18next\n    .init({\n        //detection: detection,\n        ns: [defaultNamespace, 'local'],\n        defaultNS: defaultNamespace,\n        fallbackNS: ['local', 'emoji'],\n        resources: {\n            en: {\n                local: {\n                    DeletedMessage: 'Deleted message',\n                    YourPhone: 'Your Phone',\n                    Country: 'Country',\n                    StartText: 'Please confirm your country code and enter your phone number.',\n                    Next: 'Next',\n                    InvalidPhoneNumber: 'Invalid phone number. Please check the number and try again.',\n                    More: 'More',\n                    SendMessage: 'Send Message',\n                    ChatInfo: 'Chat Info',\n                    ChannelInfo: 'Channel Info',\n                    Stickers: 'STICKERS',\n                    Emoji: 'EMOJI'\n                },\n                emoji: {\n                    Search: 'Search',\n                    NotEmojiFound: 'No Emoji Found',\n                    ChooseDefaultSkinTone: 'Choose your default skin tone',\n                    SearchResults: 'Search Results',\n                    Recent: 'Frequently Used',\n                    SmileysPeople: 'Smileys & People',\n                    AnimalsNature: 'Animals & Nature',\n                    FoodDrink: 'Food & Drink',\n                    Activity: 'Activity',\n                    TravelPlaces: 'Travel & Places',\n                    Objects: 'Objects',\n                    Symbols: 'Symbols',\n                    Flags: 'Flags',\n                    Custom: 'Custom'\n                },\n                translation: {\n                    AppName: 'Telegram',\n                    Loading: 'Loading',\n                    Connecting: 'Connecting',\n                    Updating: 'Updating'\n                }\n            },\n            ru: {\n                local: {\n                    DeletedMessage: ' ',\n                    YourPhone: ' ',\n                    Country: '',\n                    StartText: ',       .',\n                    Next: '',\n                    InvalidPhoneNumber:\n                        '  . ,      .',\n                    More: '',\n                    SendMessage: ' ',\n                    ChatInfo: '  ',\n                    ChannelInfo: '  ',\n                    Stickers: '',\n                    Emoji: ''\n                },\n                emoji: {\n                    Search: '',\n                    NotEmojiFound: '  ',\n                    ChooseDefaultSkinTone: '    ',\n                    SearchResults: ' ',\n                    Recent: ' ',\n                    SmileysPeople: '  ',\n                    AnimalsNature: '  ',\n                    FoodDrink: '  ',\n                    Activity: '',\n                    TravelPlaces: '  ',\n                    Objects: '',\n                    Symbols: '',\n                    Flags: '',\n                    Custom: ''\n                },\n                translation: {\n                    AppName: '',\n                    Loading: '',\n                    Connecting: '',\n                    Updating: ''\n                }\n            }\n        },\n        lng: language,\n        fallbackLng: defaultLanguage,\n        interpolation: {\n            escapeValue: false\n        },\n        react: {\n            wait: false\n        }\n    });\n\nconst cache = new LocalStorageBackend(null, {\n    enabled: true,\n    prefix: 'i18next_res_',\n    expirationTime: Infinity\n});\n\nconst translationDefaultLng = cache.read(defaultLanguage, defaultNamespace, (err, data) => {\n    return data;\n});\nconst translationCurrentLng = cache.read(language, defaultNamespace, (err, data) => {\n    return data;\n});\ni18n.addResourceBundle(defaultLanguage, defaultNamespace, translationDefaultLng);\ni18n.addResourceBundle(language, defaultNamespace, translationCurrentLng);\n\nclass LocalizationStore extends EventEmitter {\n    constructor() {\n        super();\n\n        this.i18n = i18n;\n        this.cache = cache;\n\n        this.setMaxListeners(Infinity);\n        this.addTdLibListener();\n    }\n\n    addTdLibListener = () => {\n        TdLibController.addListener('update', this.onUpdate);\n        TdLibController.addListener('clientUpdate', this.onClientUpdate);\n    };\n\n    removeTdLibListener = () => {\n        TdLibController.removeListener('update', this.onUpdate);\n        TdLibController.removeListener('clientUpdate', this.onClientUpdate);\n    };\n\n    onUpdate = update => {\n        switch (update['@type']) {\n            case 'updateAuthorizationState': {\n                switch (update.authorization_state['@type']) {\n                    case 'authorizationStateWaitTdlibParameters':\n                        TdLibController.send({\n                            '@type': 'setOption',\n                            name: 'localization_target',\n                            value: { '@type': 'optionValueString', value: 'android' }\n                        });\n                        TdLibController.send({\n                            '@type': 'setOption',\n                            name: 'language_pack_id',\n                            value: { '@type': 'optionValueString', value: language }\n                        });\n                        TdLibController.send({\n                            '@type': 'getLocalizationTargetInfo',\n                            only_local: false\n                        }).then(result => {\n                            this.info = result;\n\n                            TdLibController.clientUpdate({\n                                '@type': 'clientUpdateLanguageChange',\n                                language: language\n                            });\n                        });\n                        break;\n                }\n                break;\n            }\n            case 'updateLanguagePackStrings': {\n                // add/remove new strings\n\n                this.emit('updateLanguagePackStrings', update);\n                break;\n            }\n        }\n    };\n\n    onClientUpdate = async update => {\n        switch (update['@type']) {\n            case 'clientUpdateLanguageChange': {\n                const { language } = update;\n\n                TdLibController.send({\n                    '@type': 'getLanguagePackStrings',\n                    language_pack_id: language,\n                    keys: []\n                }).then(async result => {\n                    const cookies = new Cookies();\n                    cookies.set('i18next', language);\n\n                    const resources = this.processStrings(language, result);\n\n                    this.cache.save(language, defaultNamespace, resources);\n\n                    i18n.addResourceBundle(language, defaultNamespace, resources);\n\n                    await i18n.changeLanguage(language);\n\n                    TdLibController.send({\n                        '@type': 'setOption',\n                        name: 'language_pack_id',\n                        value: { '@type': 'optionValueString', value: language }\n                    });\n\n                    this.emit('clientUpdateLanguageChange', update);\n                });\n                break;\n            }\n        }\n    };\n\n    processStrings = (lng, languagePackStrings) => {\n        if (!languagePackStrings) return {};\n        const { strings } = languagePackStrings;\n        if (!strings) return {};\n\n        let result = {};\n        for (let i = 0; i < strings.length; i++) {\n            const { value } = strings[i];\n            switch (value['@type']) {\n                case 'languagePackStringValueOrdinary': {\n                    result[strings[i].key] = value.value;\n                    break;\n                }\n                case 'languagePackStringValuePluralized': {\n                    //result[strings[i].key] = value.value;\n                    break;\n                }\n                case 'languagePackStringValueDeleted': {\n                    break;\n                }\n            }\n        }\n\n        return result;\n    };\n\n    loadLanguage = async language => {\n        const result = await TdLibController.send({\n            '@type': 'getLanguagePackStrings',\n            language_pack_id: language,\n            keys: []\n        });\n\n        const resources = this.processStrings(language, result);\n\n        this.cache.save(language, defaultNamespace, resources);\n\n        i18n.addResourceBundle(language, defaultNamespace, resources);\n    };\n}\n\nconst store = new LocalizationStore();\nwindow.localization = store;\nexport default store;\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport packageJson from '../../package.json';\nimport './Footer.css';\n\nclass Footer extends React.PureComponent {\n    render() {\n        return (\n            <div className='footer-wrapper'>\n                <span>{packageJson.version}</span>\n            </div>\n        );\n    }\n}\n\nexport default Footer;\n"],"sourceRoot":""}